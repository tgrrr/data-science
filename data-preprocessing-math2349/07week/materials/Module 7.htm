<!DOCTYPE html>
<!-- saved from url=(0061)http://rare-phoenix-161610.appspot.com/secured/Module_07.html -->
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">



<meta name="generator" content="pandoc">


<meta name="author" content="Dr. Anil Dolgun">


<title>Module 7</title>

<script src="./Module 7_files/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="./Module 7_files/cosmo.min.css" rel="stylesheet">
<script src="./Module 7_files/bootstrap.min.js"></script>
<script src="./Module 7_files/html5shiv.min.js"></script>
<script src="./Module 7_files/respond.min.js"></script>
<script src="./Module 7_files/jquery-ui.min.js"></script>
<link href="./Module 7_files/jquery.tocify.css" rel="stylesheet">
<script src="./Module 7_files/jquery.tocify.js"></script>
<script src="./Module 7_files/tabsets.js"></script>
<link href="./Module 7_files/textmate.css" rel="stylesheet">
<script src="./Module 7_files/highlight.js"></script>
<link href="./Module 7_files/font-awesome.min.css" rel="stylesheet">

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="./Module 7_files/style.css" type="text/css">

<script type="text/javascript" src="./Module 7_files/MathJax.js"></script><style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 5px 0px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 5px; -webkit-border-radius: 5px; -moz-border-radius: 5px; -khtml-border-radius: 5px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 1px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: .7em}
.MathJax_MenuRadioCheck.RTL {right: .7em; left: auto}
.MathJax_MenuLabel {padding: 1px 2em 3px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #DDDDDD; margin: 4px 3px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: #606872; color: white}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
</style><style type="text/css">.MathJax_Preview .MJXf-math {color: inherit!important}
</style><style type="text/css">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none}
.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style type="text/css">.MJXp-script {font-size: .8em}
.MJXp-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXp-bold {font-weight: bold}
.MJXp-italic {font-style: italic}
.MJXp-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-largeop {font-size: 150%}
.MJXp-largeop.MJXp-int {vertical-align: -.2em}
.MJXp-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXp-display {display: block; text-align: center; margin: 1em 0}
.MJXp-math span {display: inline-block}
.MJXp-box {display: block!important; text-align: center}
.MJXp-box:after {content: " "}
.MJXp-rule {display: block!important; margin-top: .1em}
.MJXp-char {display: block!important}
.MJXp-mo {margin: 0 .15em}
.MJXp-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXp-denom {display: inline-table!important; width: 100%}
.MJXp-denom > * {display: table-row!important}
.MJXp-surd {vertical-align: top}
.MJXp-surd > * {display: block!important}
.MJXp-script-box > *  {display: table!important; height: 50%}
.MJXp-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXp-script-box > *:last-child > * {vertical-align: bottom}
.MJXp-script-box > * > * > * {display: block!important}
.MJXp-mphantom {visibility: hidden}
.MJXp-munderover {display: inline-table!important}
.MJXp-over {display: inline-block!important; text-align: center}
.MJXp-over > * {display: block!important}
.MJXp-munderover > * {display: table-row!important}
.MJXp-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXp-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXp-mtr {display: table-row!important}
.MJXp-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXp-mtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-mlabeledtr {display: table-row!important}
.MJXp-mlabeledtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mlabeledtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXp-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXp-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXp-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXp-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXp-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXp-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXp-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXp-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXp-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXp-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_PHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style><style type="text/css">.MathJax_Display {text-align: center; margin: 1em 0em; position: relative; display: block!important; text-indent: 0; max-width: none; max-height: none; min-width: 0; min-height: 0; width: 100%}
.MathJax .merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MathJax .MJX-monospace {font-family: monospace}
.MathJax .MJX-sans-serif {font-family: sans-serif}
#MathJax_Tooltip {background-color: InfoBackground; color: InfoText; border: 1px solid black; box-shadow: 2px 2px 5px #AAAAAA; -webkit-box-shadow: 2px 2px 5px #AAAAAA; -moz-box-shadow: 2px 2px 5px #AAAAAA; -khtml-box-shadow: 2px 2px 5px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true'); padding: 3px 4px; z-index: 401; position: absolute; left: 0; top: 0; width: auto; height: auto; display: none}
.MathJax {display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 100%; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; padding: 0; margin: 0}
.MathJax:focus, body :focus .MathJax {display: inline-table}
.MathJax.MathJax_FullWidth {text-align: center; display: table-cell!important; width: 10000em!important}
.MathJax img, .MathJax nobr, .MathJax a {border: 0; padding: 0; margin: 0; max-width: none; max-height: none; min-width: 0; min-height: 0; vertical-align: 0; line-height: normal; text-decoration: none}
img.MathJax_strut {border: 0!important; padding: 0!important; margin: 0!important; vertical-align: 0!important}
.MathJax span {display: inline; position: static; border: 0; padding: 0; margin: 0; vertical-align: 0; line-height: normal; text-decoration: none}
.MathJax nobr {white-space: nowrap!important}
.MathJax img {display: inline!important; float: none!important}
.MathJax * {transition: none; -webkit-transition: none; -moz-transition: none; -ms-transition: none; -o-transition: none}
.MathJax_Processing {visibility: hidden; position: fixed; width: 0; height: 0; overflow: hidden}
.MathJax_Processed {display: none!important}
.MathJax_ExBox {display: block!important; overflow: hidden; width: 1px; height: 60ex; min-height: 0; max-height: none}
.MathJax .MathJax_EmBox {display: block!important; overflow: hidden; width: 1px; height: 60em; min-height: 0; max-height: none}
.MathJax_LineBox {display: table!important}
.MathJax_LineBox span {display: table-cell!important; width: 10000em!important; min-width: 0; max-width: none; padding: 0; border: 0; margin: 0}
.MathJax .MathJax_HitBox {cursor: text; background: white; opacity: 0; filter: alpha(opacity=0)}
.MathJax .MathJax_HitBox * {filter: none; opacity: 1; background: transparent}
#MathJax_Tooltip * {filter: none; opacity: 1; background: transparent}
@font-face {font-family: MathJax_Blank; src: url('about:blank')}
.MathJax .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style></head>

<body><div style="visibility: hidden; overflow: hidden; position: absolute; top: 0px; height: 1px; width: auto; padding: 0px; border: 0px; margin: 0px; text-align: left; text-indent: 0px; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal;"><div id="MathJax_Hidden"></div></div><div id="MathJax_Message" style="display: none;"></div>

<style type="text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}

.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = false;
    options.smoothScroll = false;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}

.tocify-subheader {
  display: inline;
}
.tocify-subheader .tocify-item {
  font-size: 0.95em;
}

</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
<ul id="tocify-header1" class="tocify-header list-group"><li class="tocify-item list-group-item active" data-unique="overview">Overview</li><ul class="tocify-subheader list-group" data-tag="2"><li class="tocify-item list-group-item" data-unique="summary">Summary</li><li class="tocify-item list-group-item" data-unique="learning_objectives">Learning Objectives</li></ul></ul><ul id="tocify-header2" class="tocify-header list-group"><li class="tocify-item list-group-item" data-unique="data_transformation">Data Transformation</li><ul class="tocify-subheader list-group" data-tag="2"><li class="tocify-item list-group-item" data-unique="data_transformation_via_mathematical_operations">Data Transformation via Mathematical Operations</li><li class="tocify-item list-group-item" data-unique="box-cox_transformation">Box-Cox Transformation</li></ul></ul><ul id="tocify-header3" class="tocify-header list-group"><li class="tocify-item list-group-item" data-unique="data_normalisation">Data Normalisation</li><ul class="tocify-subheader list-group" data-tag="2"><li class="tocify-item list-group-item" data-unique="centering_and_scaling">Centering and scaling</li><li class="tocify-item list-group-item" data-unique="z_score_standardisation">z score standardisation</li><li class="tocify-item list-group-item" data-unique="min-_max_normalisation_(aka_range_or_(0-1)_normalisation)">Min- Max Normalisation (a.k.a. range or (0-1) normalisation)</li></ul></ul><ul id="tocify-header4" class="tocify-header list-group"><li class="tocify-item list-group-item" data-unique="binning_(aka_discretisation)">Binning (a.k.a. Discretisation)</li><ul class="tocify-subheader list-group" data-tag="2"><li class="tocify-item list-group-item" data-unique="equal_width_(distance)_binning">Equal width (distance) binning</li><li class="tocify-item list-group-item" data-unique="equal_depth_(frequency)_binning">Equal depth (frequency) binning</li></ul></ul><ul id="tocify-header5" class="tocify-header list-group"><li class="tocify-item list-group-item" data-unique="data_(dimension)_reduction">Data (dimension) reduction</li></ul><ul id="tocify-header6" class="tocify-header list-group"><li class="tocify-item list-group-item" data-unique="a_quick_look_to_the_mlr_package">A quick look to the mlr package</li><ul class="tocify-subheader list-group" data-tag="2"><li class="tocify-item list-group-item" data-unique="1_create_a_task">1. Create a task</li><li class="tocify-item list-group-item" data-unique="2_create_a_learner">2. Create a learner</li><li class="tocify-item list-group-item" data-unique="3_fit_the_model">3. Fit the model</li><li class="tocify-item list-group-item" data-unique="4_make_predictions">4. Make predictions</li><li class="tocify-item list-group-item" data-unique="5_evaluate_the_learner">5. Evaluate the learner</li></ul></ul><ul id="tocify-header7" class="tocify-header list-group"><li class="tocify-item list-group-item" data-unique="feature_selection">Feature selection</li><ul class="tocify-subheader list-group" data-tag="2"><li class="tocify-item list-group-item" data-unique="feature_filtering">Feature filtering</li><li class="tocify-item list-group-item" data-unique="feature_ranking">Feature ranking</li></ul></ul><ul id="tocify-header8" class="tocify-header list-group"><li class="tocify-item list-group-item" data-unique="feature_extraction">Feature extraction</li><ul class="tocify-subheader list-group" data-tag="2"><li class="tocify-item list-group-item" data-unique="principal_component_analysis_(pca)">Principal Component Analysis (PCA)</li></ul></ul><ul id="tocify-header9" class="tocify-header list-group"><li class="tocify-item list-group-item" data-unique="additional_resources_and_further_reading">Additional Resources and Further Reading</li></ul><ul id="tocify-header10" class="tocify-header list-group"><li class="tocify-item list-group-item" data-unique="references">References</li></ul></div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="http://rare-phoenix-161610.appspot.com/secured/index.html">Data Preprocessing</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown active">
  <a href="http://rare-phoenix-161610.appspot.com/secured/Module_07.html#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-sticky-note-o"></span>
     
    Courseware
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="http://rare-phoenix-161610.appspot.com/secured/Module_01.html">Module 1 Notes</a>
    </li>
    <li>
      <a href="http://rare-phoenix-161610.appspot.com/secured/Module_02.html">Module 2 Notes</a>
    </li>
    <li>
      <a href="http://rare-phoenix-161610.appspot.com/secured/Module_03.html">Module 3 Notes</a>
    </li>
    <li>
      <a href="http://rare-phoenix-161610.appspot.com/secured/Module_04.html">Module 4 Notes</a>
    </li>
    <li>
      <a href="http://rare-phoenix-161610.appspot.com/secured/Module_05.html">Module 5 Notes</a>
    </li>
    <li>
      <a href="http://rare-phoenix-161610.appspot.com/secured/Module_06.html">Module 6 Notes</a>
    </li>
    <li class="active">
      <a href="http://rare-phoenix-161610.appspot.com/secured/Module_07.html">Module 7 Notes</a>
    </li>
    <li>
      <a href="http://rare-phoenix-161610.appspot.com/secured/Module_08.html">Module 8 Notes</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="http://rare-phoenix-161610.appspot.com/secured/Module_07.html#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-code"></span>
     
    Skill Builders
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="http://rare-phoenix-161610.appspot.com/secured/Module_01_Skill_Builder.html">Module 1 Skill Builders</a>
    </li>
    <li>
      <a href="http://rare-phoenix-161610.appspot.com/secured/Module_01_Skill_Builder_Answers.html">Module 1 Skill Builder Answers</a>
    </li>
    <li>
      <a href="http://rare-phoenix-161610.appspot.com/secured/Module_02_Skill_Builder.html">Module 2 Skill Builders</a>
    </li>
    <li>
      <a href="http://rare-phoenix-161610.appspot.com/secured/Module_02_Skill_Builder_Answers.html">Module 2 Skill Builder Answers</a>
    </li>
    <li>
      <a href="http://rare-phoenix-161610.appspot.com/secured/Module_03_Skill_Builder.html">Module 3 Skill Builders</a>
    </li>
    <li>
      <a href="http://rare-phoenix-161610.appspot.com/secured/Module_03_Skill_Builder_Answers.html">Module 3 Skill Builder Answers</a>
    </li>
    <li>
      <a href="http://rare-phoenix-161610.appspot.com/secured/Module_04_Skill_Builder.html">Module 4 Skill Builders</a>
    </li>
    <li>
      <a href="http://rare-phoenix-161610.appspot.com/secured/Module_04_Skill_Builder_Answers.html">Module 4 Skill Builder Answers</a>
    </li>
    <li>
      <a href="http://rare-phoenix-161610.appspot.com/secured/Module_05_Skill_Builder.html">Module 5 Skill Builders</a>
    </li>
    <li>
      <a href="http://rare-phoenix-161610.appspot.com/secured/Module_05_Skill_Builder_Answers.html">Module 5 Skill Builder Answers</a>
    </li>
    <li>
      <a href="http://rare-phoenix-161610.appspot.com/secured/Module_06_Skill_Builder.html">Module 6 Skill Builders</a>
    </li>
    <li>
      <a href="http://rare-phoenix-161610.appspot.com/secured/Module_06_Skill_Builder_Answers.html">Module 6 Skill Builder Answers</a>
    </li>
    <li>
      <a href="http://rare-phoenix-161610.appspot.com/secured/Module_07_Skill_Builder.html">Module 7 Skill Builders</a>
    </li>
    <li>
      <a href="http://rare-phoenix-161610.appspot.com/secured/Module_07_Skill_Builder_Answers.html">Module 7 Skill Builder Answers</a>
    </li>
    <li>
      <a href="http://rare-phoenix-161610.appspot.com/secured/Module_08_Skill_Builder.html">Module 8 Skill Builders</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="http://rare-phoenix-161610.appspot.com/secured/Module_07.html#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-television"></span>
     
    Demos
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="http://rare-phoenix-161610.appspot.com/secured/demos/Week_01_Demo.html">Week 1 Demonstration Slides</a>
    </li>
    <li>
      <a href="http://rare-phoenix-161610.appspot.com/secured/demos/Week_02_Demo.html">Week 2 Demonstration Slides</a>
    </li>
    <li>
      <a href="http://rare-phoenix-161610.appspot.com/secured/demos/Week_03_Demo.html">Week 3 Demonstration Slides</a>
    </li>
    <li>
      <a href="http://rare-phoenix-161610.appspot.com/secured/demos/Week_04_Demo.html">Week 4 Demonstration Slides</a>
    </li>
    <li>
      <a href="http://rare-phoenix-161610.appspot.com/secured/demos/Week_05_Demo.html">Week 5 Demonstration Slides</a>
    </li>
    <li>
      <a href="http://rare-phoenix-161610.appspot.com/secured/demos/Week_06_Demo.html">Week 6 Demonstration Slides</a>
    </li>
    <li>
      <a href="http://rare-phoenix-161610.appspot.com/secured/demos/Week_07_Demo.html">Week 7 Demonstration Slides</a>
    </li>
    <li class="dropdown-header">Week 8 NO CLASS, Anzac Day</li>
    <li>
      <a href="http://rare-phoenix-161610.appspot.com/secured/demos/Week_09_Demo.html">Week 9 Demonstration Slides</a>
    </li>
    <li>
      <a href="http://rare-phoenix-161610.appspot.com/secured/demos/Week_10_Demo.html">Week 10 Demonstration Slides</a>
    </li>
    <li>
      <a href="http://rare-phoenix-161610.appspot.com/secured/demos/Week_11_Demo.html">Week 11 Demonstration Slides</a>
    </li>
    <li class="dropdown-header">Week 12 Demonstration Slides</li>
  </ul>
</li>
<li class="dropdown">
  <a href="http://rare-phoenix-161610.appspot.com/secured/Module_07.html#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-file-text-o"></span>
     
    Worksheets
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="http://rare-phoenix-161610.appspot.com/secured/worksheets/Week_01_Worksheet.html">Week 1 Class Worksheet</a>
    </li>
    <li>
      <a href="http://rare-phoenix-161610.appspot.com/secured/worksheets/Week_01_Worksheet_answers.html">Week 1 Class Worksheet Answers</a>
    </li>
    <li>
      <a href="http://rare-phoenix-161610.appspot.com/secured/worksheets/Week_02_Worksheet.html">Week 2 Class Worksheet</a>
    </li>
    <li>
      <a href="http://rare-phoenix-161610.appspot.com/secured/worksheets/Week_02_Worksheet_answers.html">Week 2 Class Worksheet Answers</a>
    </li>
    <li>
      <a href="http://rare-phoenix-161610.appspot.com/secured/worksheets/Week_03_Worksheet.html">Week 3 Class Worksheet</a>
    </li>
    <li>
      <a href="http://rare-phoenix-161610.appspot.com/secured/worksheets/Week_03_Worksheet_answers.html">Week 3 Class Worksheet Answers</a>
    </li>
    <li>
      <a href="http://rare-phoenix-161610.appspot.com/secured/worksheets/Week_04_Worksheet.html">Week 4 Class Worksheet</a>
    </li>
    <li>
      <a href="http://rare-phoenix-161610.appspot.com/secured/worksheets/Week_04_Worksheet_answers.html">Week 4 Class Worksheet Answers</a>
    </li>
    <li>
      <a href="http://rare-phoenix-161610.appspot.com/secured/worksheets/Week_05_Worksheet.html">Week 5 Class Worksheet</a>
    </li>
    <li>
      <a href="http://rare-phoenix-161610.appspot.com/secured/worksheets/Week_05_Worksheet_answers.html">Week 5 Class Worksheet Answers</a>
    </li>
    <li>
      <a href="http://rare-phoenix-161610.appspot.com/secured/worksheets/Week_06_Worksheet.html">Week 6 Class Worksheet</a>
    </li>
    <li>
      <a href="http://rare-phoenix-161610.appspot.com/secured/worksheets/Week_06_Worksheet_answers.html">Week 6 Class Worksheet Answers</a>
    </li>
    <li>
      <a href="http://rare-phoenix-161610.appspot.com/secured/worksheets/Week_07_Worksheet.html">Week 7 Class Worksheet</a>
    </li>
    <li>
      <a href="http://rare-phoenix-161610.appspot.com/secured/worksheets/Week_07_Worksheet_answers.html">Week 7 Class Worksheet Answers</a>
    </li>
    <li class="dropdown-header">Week 8 NO CLASS, Anzac Day</li>
    <li>
      <a href="http://rare-phoenix-161610.appspot.com/secured/worksheets/Week_09_Worksheet.html">Week 9 Class Worksheet</a>
    </li>
    <li>
      <a href="http://rare-phoenix-161610.appspot.com/secured/worksheets/Week_09_Worksheet_answers.html">Week 9 Class Worksheet Answers</a>
    </li>
    <li>
      <a href="http://rare-phoenix-161610.appspot.com/secured/worksheets/Week_10_Worksheet.html">Week 10 Class Worksheet</a>
    </li>
    <li>
      <a href="http://rare-phoenix-161610.appspot.com/secured/worksheets/Week_10_Worksheet_answers.html">Week 10 Class Worksheet Answers</a>
    </li>
    <li>
      <a href="http://rare-phoenix-161610.appspot.com/secured/worksheets/Week_11_Worksheet.html">Week 11 Class Worksheet</a>
    </li>
  </ul>
</li>
<li>
  <a href="https://drive.google.com/drive/folders/1ya4COg_QeZG4t6XNRUehAq8FrRxRuxHb?usp=sharing">
    <span class="fa fa-folder-open"></span>
     
    Drive
  </a>
</li>
<li>
  <a href="http://rare-phoenix-161610.appspot.com/secured/DataCamp.html">
    <span class="fa fa-star"></span>
     
    DataCamp
  </a>
</li>
<li class="dropdown">
  <a href="http://rare-phoenix-161610.appspot.com/secured/Module_07.html#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-wrench"></span>
     
    Tools
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="https://docs.google.com/document/d/177dgNO0PezpPfqEtXziUlkmVLxfq5dORDnxAb03YIRM/edit?usp=sharing">Course Information Pack</a>
    </li>
    <li>
      <a href="https://docs.google.com/forms/d/1D9wnlYth2rJirg5CMBiwnuew0-ZjagCPNrBxmr2Qn8A/edit?usp=sharing">Course Feedback</a>
    </li>
    <li>
      <a href="https://my.rmit.edu.au/">MyRMIT (Canvas)</a>
    </li>
    <li>
      <a href="http://www1.rmit.edu.au/students/mydesktop">MyDesktop</a>
    </li>
    <li>
      <a href="https://sites.google.com/rmit.edu.au/postgradanalytics">
        <span class="fa fa-circle-o"></span>
         
        Portal
      </a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://math2349.slack.com/">
    <span class="fa fa-slack"></span>
     
    Slack
  </a>
</li>
<li>
  <a href="http://rare-phoenix-161610.appspot.com/logout.htm">
    <span class="fa fa-sign-out"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Module 7</h1>
<h3 class="subtitle"><em>Transform: Data Transformation, Standardisation, and Reduction</em></h3>
<h4 class="author"><em>Dr.&nbsp;Anil Dolgun</em></h4>
<h4 class="date"><em>Last updated: 16 May, 2018</em></h4>

</div>


<div id="overview" class="section level1">
<div name="overview" data-unique="overview"></div><h1>Overview</h1>
<div id="summary" class="section level2">
<div name="summary" data-unique="summary"></div><h2>Summary</h2>
<p>Data transformation is perhaps the most important step in the data preprocessing for the development and deployment of statistical analysis and machine learning models. In almost all statistical and machine learning analyses, it is necessary to perform some data transformations (i.e., data transformation, scaling, centering, standardisation and normalisation) on the raw (but tidy and clean!) data before it can be used for modeling.<br>
</p>
<p>In this module, we focus on the most common and useful data transformations that can be easily implemented in R. The number of possible data transformations is indeed large and the selection of proper and useful transformations would definitely depend on the context of the data and the type of the statistical analysis. This is why specific types of analyses may require specific types of transformations. As you move forward in your master’s program, you will learn the details of these specific transformations used in different data analysis subjects (i.e., Introduction to Statistics, Machine Learning, Analysis of Categorical Data, Time Series Analysis, Forecasting and Applied Bayesian Analysis courses, etc.). Our aim in this course is not to give technical details of these transformations, but you may refer to the “Additional Resources and Further Reading” section to find out more on the topic.</p>
</div>
<div id="learning-objectives" class="section level2">
<div name="learning_objectives" data-unique="learning_objectives"></div><h2>Learning Objectives</h2>
<p><img src="./Module 7_files/module7.png" width="20%" align="right" alt="Transform"></p>
<p>The learning objectives of this module are as follows:<br>
</p>
<ul>
<li>Apply well-known transformations</li>
<li>Apply normalisation and standardisation</li>
<li>Learn commonly used approaches for data discretisation</li>
<li>Apply different variable selection, ranking and feature extraction techniques for data reduction</li>
</ul>
</div>
</div>
<div id="data-transformation" class="section level1">
<div name="data_transformation" data-unique="data_transformation"></div><h1>Data Transformation</h1>
<p>Data transformation is often a requisite to further proceed with statistical analysis. Below are the situations where we might need transformations:<br>
</p>
<ul>
<li><p>We may need to change the scale of a variable or standardise the values of a variable for better understanding.<br>
</p></li>
<li><p>We may need to transform complex non-linear relationships into linear relationships. Transformation helps us to convert a non-linear relation into linear one.&nbsp;</p></li>
<li><p>In statistical inference, symmetric (normal) distribution is preferred over skewed distribution. Also, some statistical analysis techniques (i.e., parametric tests, linear regression, etc) requires normal distribution of variables and homogeneity of variances. So, whenever we have a skewed distribution and/or heterogeneous of variances, we can use transformations which can reduce skewness and/or heterogeneity of variances.<br>
</p></li>
</ul>
<div id="data-transformation-via-mathematical-operations" class="section level2">
<div name="data_transformation_via_mathematical_operations" data-unique="data_transformation_via_mathematical_operations"></div><h2>Data Transformation via Mathematical Operations</h2>
<p>Often, mathematical operations are applied to the data to achieve normality and/or variance homogeneity. Such transformations through mathematical operations like logarithmic (i.e., ln and log), square root, power transformations etc. can easily be done in R using arithmetic functions.<br>
</p>
<p>The most useful transformations in introductory data analysis are the logarithm (base 10 and base e) reciprocal, cube root, square root, and square.<br>
</p>
<p><strong>The Log transformation</strong> (base 10 - <span class="math inline"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mn&gt;10&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1" style="width: 2.6em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.059em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.572em, 1002.06em, 2.817em, -999.997em); top: -2.432em; left: 0em;"><span class="mrow" id="MathJax-Span-2"><span class="mi" id="MathJax-Span-3" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-4" style="font-family: STIXGeneral-Italic;">o</span><span class="msubsup" id="MathJax-Span-5"><span style="display: inline-block; position: relative; width: 1.301em; height: 0px;"><span style="position: absolute; clip: rect(3.412em, 1000.49em, 4.386em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-6" style="font-family: STIXGeneral-Italic;">g</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.839em; left: 0.49em;"><span class="texatom" id="MathJax-Span-7"><span class="mrow" id="MathJax-Span-8"><span class="mn" id="MathJax-Span-9" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">10</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.438em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.338em; border-left: 0px solid; width: 0px; height: 1.231em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>l</mi><mi>o</mi><msub><mi>g</mi><mrow class="MJX-TeXAtom-ORD"><mn>10</mn></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-1">log_{10}</script></span> or base e - <span class="math inline"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-2-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-10" style="width: 2.059em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.626em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.572em, 1001.63em, 2.817em, -999.997em); top: -2.432em; left: 0em;"><span class="mrow" id="MathJax-Span-11"><span class="mi" id="MathJax-Span-12" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-13" style="font-family: STIXGeneral-Italic;">o</span><span class="msubsup" id="MathJax-Span-14"><span style="display: inline-block; position: relative; width: 0.869em; height: 0px;"><span style="position: absolute; clip: rect(3.412em, 1000.49em, 4.386em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-15" style="font-family: STIXGeneral-Italic;">g</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.839em; left: 0.49em;"><span class="mi" id="MathJax-Span-16" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">e</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.438em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.338em; border-left: 0px solid; width: 0px; height: 1.231em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>l</mi><mi>o</mi><msub><mi>g</mi><mi>e</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-2">log_e</script></span>) compresses high values and spreads low values by expressing the values as orders of magnitude. This transformation is commonly used for reducing right skewness. It can not be applied to zero or negative values directly. In order to apply the log transformation to a zero or negative value, we can add a non-negative constant to all observations and then take the logarithm.<br>
</p>
<p>Let’s have a look at the hypothetical data on the salaries data ( <a href="http://rare-phoenix-161610.appspot.com/secured/data/salary.csv">salary.csv</a> ).</p>
<p><img src="./Module 7_files/unnamed-chunk-1-1.png" width="672" style="display: block; margin: auto;"></p>
<p>From the histogram, we observe that salaries have a right-skewed distribution. By applying a logarithmic transformation, the salary distribution would be more symmetrical.<br>
</p>
<p>We can apply the logarithmic transformation (base 10) using the <code>log10()</code> function in R as follows:<br>
</p>
<pre class="r"><code class="hljs">log_salary &lt;- log10(salary$salary)

hist(log_salary)</code></pre>
<p><img src="./Module 7_files/unnamed-chunk-2-1.png" width="672" style="display: block; margin: auto;"></p>
<p>Another logarithmic transformation is the natural logarithm (often called <span class="math inline"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-3-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-17" style="width: 0.977em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.76em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.572em, 1000.76em, 2.6em, -999.997em); top: -2.432em; left: 0em;"><span class="mrow" id="MathJax-Span-18"><span class="mi" id="MathJax-Span-19" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-20" style="font-family: STIXGeneral-Italic;">n</span></span><span style="display: inline-block; width: 0px; height: 2.438em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.065em; border-left: 0px solid; width: 0px; height: 1.026em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>l</mi><mi>n</mi></math></span></span><script type="math/tex" id="MathJax-Element-3">ln</script></span> or <span class="math inline"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-4-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-21" style="width: 2.059em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.626em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.572em, 1001.63em, 2.817em, -999.997em); top: -2.432em; left: 0em;"><span class="mrow" id="MathJax-Span-22"><span class="mi" id="MathJax-Span-23" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-24" style="font-family: STIXGeneral-Italic;">o</span><span class="msubsup" id="MathJax-Span-25"><span style="display: inline-block; position: relative; width: 0.869em; height: 0px;"><span style="position: absolute; clip: rect(3.412em, 1000.49em, 4.386em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-26" style="font-family: STIXGeneral-Italic;">g</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.839em; left: 0.49em;"><span class="mi" id="MathJax-Span-27" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">e</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.438em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.338em; border-left: 0px solid; width: 0px; height: 1.231em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>l</mi><mi>o</mi><msub><mi>g</mi><mi>e</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-4">log_e</script></span>). This transformation can be easily done using the <code>log()</code> function in R.<br>
</p>
<p>For the salaries data, we can also apply the <span class="math inline"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-5-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-28" style="width: 0.977em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.76em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.572em, 1000.76em, 2.6em, -999.997em); top: -2.432em; left: 0em;"><span class="mrow" id="MathJax-Span-29"><span class="mi" id="MathJax-Span-30" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-31" style="font-family: STIXGeneral-Italic;">n</span></span><span style="display: inline-block; width: 0px; height: 2.438em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.065em; border-left: 0px solid; width: 0px; height: 1.026em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>l</mi><mi>n</mi></math></span></span><script type="math/tex" id="MathJax-Element-5">ln</script></span> transformation as follows:<br>
</p>
<pre class="r"><code class="hljs">ln_salary &lt;- log(salary$salary)

hist(ln_salary)</code></pre>
<p><img src="./Module 7_files/unnamed-chunk-3-1.png" width="672" style="display: block; margin: auto;"></p>
<p>As seen from the histograms, the log10 transformation worked slightly better than the <span class="math inline"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-6-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-32" style="width: 0.977em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.76em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.572em, 1000.76em, 2.6em, -999.997em); top: -2.432em; left: 0em;"><span class="mrow" id="MathJax-Span-33"><span class="mi" id="MathJax-Span-34" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-35" style="font-family: STIXGeneral-Italic;">n</span></span><span style="display: inline-block; width: 0px; height: 2.438em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.065em; border-left: 0px solid; width: 0px; height: 1.026em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>l</mi><mi>n</mi></math></span></span><script type="math/tex" id="MathJax-Element-6">ln</script></span> transformation for this example.&nbsp;</p>
<p>Usually, analysts apply different transformations on the same data and then select the one that works well or is useful.<br>
</p>
<p>Another transformation is the <strong>square root transformation</strong>. It is also used for reducing right skewness, and also has the advantage that it can be applied to zero values. In R, the function <code>sqrt()</code> will apply the square root transformation. Let’s apply the square root transformation and see the effect of this transformation on the salary distribution:<br>
</p>
<pre class="r"><code class="hljs">sqrt_salary &lt;- sqrt(salary$salary)
hist(sqrt_salary)</code></pre>
<p><img src="./Module 7_files/unnamed-chunk-4-1.png" width="672" style="display: block; margin: auto;"></p>
<p>The square root transformation has reduced the skewness in the salary distribution a bit, however it didn’t<br>
</p>
<p>The <strong>square transformation</strong> has a moderate effect on distribution shape and it can be used to reduce left skewness. It spreads out the high values relative to the smaller values. In R, the mathematical operation <code>x^2</code> would apply the square transformation.<br>
</p>
<p>To illustrate the square transformation, let’s read in <a href="http://rare-phoenix-161610.appspot.com/secured/data/left_skewed1.csv">left_skewed1.csv</a> and have a look at the shape of the distribution using histogram:<br>
</p>
<pre class="r"><code class="hljs">x1&lt;- read.csv(<span class="hljs-string">"data/left_skewed1.csv"</span>)

x1&lt;-x1[,-<span class="hljs-number">1</span>] <span class="hljs-comment"># dropping the first column</span>

hist(x1)</code></pre>
<p><img src="./Module 7_files/unnamed-chunk-6-1.png" width="672" style="display: block; margin: auto;"></p>
<p>This distribution is left skewed, we can try and see the effect of square transformation on the distribution using the following:<br>
</p>
<pre class="r"><code class="hljs">xsquare1 &lt;- x1^<span class="hljs-number">2</span>

hist(xsquare1)</code></pre>
<p><img src="./Module 7_files/unnamed-chunk-7-1.png" width="672" style="display: block; margin: auto;"></p>
<p>As seen above, the square transformation was not helpful at all to get a symmetrical distribution for this data set. Now, let’s look at another example data <a href="http://rare-phoenix-161610.appspot.com/secured/data/left_skewed2.csv">left_skewed2.csv</a> having less skewed distribution:<br>
</p>
<pre class="r"><code class="hljs">x2&lt;- read.csv(<span class="hljs-string">"data/left_skewed2.csv"</span>)

x2&lt;-x2[,-<span class="hljs-number">1</span>] <span class="hljs-comment"># dropping the first column</span>

hist(x2)</code></pre>
<p><img src="./Module 7_files/unnamed-chunk-9-1.png" width="672" style="display: block; margin: auto;"></p>
<p>Let’s apply square transformation to <code>x2</code> and see the effect:<br>
</p>
<pre class="r"><code class="hljs">x2square &lt;- x2^<span class="hljs-number">2</span>

hist(x2square)</code></pre>
<p><img src="./Module 7_files/unnamed-chunk-10-1.png" width="672" style="display: block; margin: auto;"></p>
<p>As seen in the last histogram, square transformation was able to transform the shape of the distribution into a more symmetric one when the distribution is mildly left skewed.<br>
</p>
<p>The <strong>reciprocal transformation</strong> is a very strong transformation with a drastic effect on the distribution shape. It will compress large values to smaller values. The mathematical operation <code>1/x</code>or <code>x^(-1)</code> would apply the reciprocal transformation.<br>
</p>
<p>Let’s apply the reciprocal transformation to the <code>x3</code> variable in the <a href="http://rare-phoenix-161610.appspot.com/secured/data/right_skewed1.csv">right_skewed1.csv</a> data and see its drastic effect on the shape of the distribution:<br>
</p>
<pre class="r"><code class="hljs">x3&lt;- read.csv(<span class="hljs-string">"data/right_skewed1.csv"</span>)

x3&lt;-x3[,-<span class="hljs-number">1</span>] <span class="hljs-comment"># dropping the first column</span>

hist(x3)</code></pre>
<p><img src="./Module 7_files/unnamed-chunk-12-1.png" width="672" style="display: block; margin: auto;"></p>
<pre class="r"><code class="hljs">x3recip &lt;- <span class="hljs-number">1</span>/x3

hist(x3recip)</code></pre>
<p><img src="./Module 7_files/unnamed-chunk-13-1.png" width="672" style="display: block; margin: auto;"></p>
<p>As seen above, reciprocal transformation worked very well in this case.<br>
</p>
<p>The main transformations mentioned previously, with the exception of the logarithm, are all powers. Therefore, these transformations are also called as <strong>power transformations</strong>. Here is the list of power transformations:<br>
</p>
<table class="table table-condensed">
<thead>
<tr class="header">
<th>Transformation</th>
<th>Power</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>reciprocal square</td>
<td>-2</td>
</tr>
<tr class="even">
<td>reciprocal</td>
<td>-1</td>
</tr>
<tr class="odd">
<td>(yields one)</td>
<td>0</td>
</tr>
<tr class="even">
<td>cube root</td>
<td>1/3</td>
</tr>
<tr class="odd">
<td>square root</td>
<td>1/2</td>
</tr>
<tr class="even">
<td>identity</td>
<td>1</td>
</tr>
<tr class="odd">
<td>square</td>
<td>2</td>
</tr>
<tr class="even">
<td>cube</td>
<td>3</td>
</tr>
<tr class="odd">
<td>fourth power</td>
<td>4</td>
</tr>
</tbody>
</table>
<p>There are also some recommendations on useful transformations for specific types of distributions. For example:<br>
</p>
<ul>
<li><p>To reduce right skewness in the distribution, taking roots or logarithms or reciprocals work well.</p></li>
<li><p>To reduce left skewness, taking squares or cubes or higher powers work well.</p></li>
</ul>
<p>Note that these are general recommendations on mathematical transformations and may not work for every data set. Usually, the best approach is to apply different transformations on the same data and select the one that works best.<br>
</p>
</div>
<div id="box-cox-transformation" class="section level2">
<div name="box-cox_transformation" data-unique="box-cox_transformation"></div><h2>Box-Cox Transformation</h2>
<p>Normal distribution assumption is very crucial for many statistical hypothesis tests especially for the parametric hypothesis testing, linear regression, time series analysis, etc. The Box-Cox transformation is a type of power transformation to transform non-normal data into a normal distribution. This transformation is named after statisticians George Box and Sir David Cox who collaborated on a 1964 paper and developed the technique (<span class="citation">Box and Cox (1964)</span>).<br>
</p>
<p>Let <span class="math inline"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-7-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-36" style="width: 0.544em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.436em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.843em, 1000.44em, 2.817em, -999.997em); top: -2.432em; left: 0em;"><span class="mrow" id="MathJax-Span-37"><span class="mi" id="MathJax-Span-38" style="font-family: STIXGeneral-Italic;">y</span></span><span style="display: inline-block; width: 0px; height: 2.438em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.338em; border-left: 0px solid; width: 0px; height: 0.958em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>y</mi></math></span></span><script type="math/tex" id="MathJax-Element-7">y</script></span> denote the variable at the original scale and <span class="math inline"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-8-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msup&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo&gt;&amp;#x2032;&lt;/mo&gt;&lt;/msup&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-39" style="width: 0.977em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.76em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.247em, 1000.76em, 2.546em, -999.997em); top: -2.162em; left: 0em;"><span class="mrow" id="MathJax-Span-40"><span class="msup" id="MathJax-Span-41"><span style="display: inline-block; position: relative; width: 0.76em; height: 0px;"><span style="position: absolute; clip: rect(3.412em, 1000.44em, 4.386em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-42" style="font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -4.38em; left: 0.436em;"><span class="mo" id="MathJax-Span-43" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.167em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.338em; border-left: 0px solid; width: 0px; height: 1.367em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>y</mi><mo>′</mo></msup></math></span></span><script type="math/tex" id="MathJax-Element-8">y'</script></span> the transformed variable. The Box-Cox transformation is defined as:<br>
<span class="math display"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-9-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;msup&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo&gt;&amp;#x2032;&lt;/mo&gt;&lt;/msup&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mrow&gt;&lt;mo&gt;{&lt;/mo&gt;&lt;mtable columnalign=&quot;left left&quot; rowspacing=&quot;.2em&quot; columnspacing=&quot;1em&quot; displaystyle=&quot;false&quot;&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mfrac&gt;&lt;mrow&gt;&lt;msup&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;&amp;#x03BB;&lt;/mi&gt;&lt;/mrow&gt;&lt;/msup&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;mi&gt;&amp;#x03BB;&lt;/mi&gt;&lt;/mfrac&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mtext&gt;if&amp;#xA0;&lt;/mtext&gt;&lt;mi&gt;&amp;#x03BB;&lt;/mi&gt;&lt;mo&gt;&amp;#x2260;&lt;/mo&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mtext&gt;if&amp;#xA0;&lt;/mtext&gt;&lt;mi&gt;&amp;#x03BB;&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;/mtable&gt;&lt;mo fence=&quot;true&quot; stretchy=&quot;true&quot; symmetric=&quot;true&quot;&gt;&lt;/mo&gt;&lt;/mrow&gt;&lt;/math&gt;" role="presentation" style="text-align: center; position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-44" style="width: 11.962em; display: inline-block;"><span style="display: inline-block; position: relative; width: 9.472em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(2.113em, 1009.47em, 5.522em, -999.997em); top: -4.056em; left: 0em;"><span class="mrow" id="MathJax-Span-45"><span class="msup" id="MathJax-Span-46"><span style="display: inline-block; position: relative; width: 0.76em; height: 0px;"><span style="position: absolute; clip: rect(3.412em, 1000.44em, 4.386em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-47" style="font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -4.435em; left: 0.436em;"><span class="mo" id="MathJax-Span-48" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-49" style="font-family: STIXGeneral-Regular; padding-left: 0.327em;">=</span><span class="mrow" id="MathJax-Span-50" style="padding-left: 0.327em;"><span class="mo" id="MathJax-Span-51" style="vertical-align: -0.755em;"><span style="font-family: STIXSizeFourSym;">{</span></span><span class="mtable" id="MathJax-Span-52" style="padding-right: 0.165em; padding-left: 0.165em;"><span style="display: inline-block; position: relative; width: 5.955em; height: 0px;"><span style="position: absolute; clip: rect(2.221em, 1005.96em, 5.306em, -999.997em); top: -4.002em; left: 0em;"><span style="display: inline-block; position: relative; width: 5.955em; height: 0px;"><span style="position: absolute; clip: rect(2.708em, 1005.36em, 4.548em, -999.997em); top: -4.489em; left: 0em;"><span class="mtd" id="MathJax-Span-53"><span class="mrow" id="MathJax-Span-54"><span class="mfrac" id="MathJax-Span-55"><span style="display: inline-block; position: relative; width: 1.572em; height: 0px; margin-right: 0.111em; margin-left: 0.111em;"><span style="position: absolute; clip: rect(3.249em, 1001.36em, 4.332em, -999.997em); top: -4.543em; left: 50%; margin-left: -0.701em;"><span class="mrow" id="MathJax-Span-56"><span class="msubsup" id="MathJax-Span-57"><span style="display: inline-block; position: relative; width: 0.598em; height: 0px;"><span style="position: absolute; clip: rect(3.52em, 1000.33em, 4.332em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-58" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -4.272em; left: 0.327em;"><span class="texatom" id="MathJax-Span-59"><span class="mrow" id="MathJax-Span-60"><span class="mi" id="MathJax-Span-61" style="font-size: 50%; font-family: STIXGeneral-Italic;">λ</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-62" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">−</span><span class="mn" id="MathJax-Span-63" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.358em, 1000.33em, 4.169em, -999.997em); top: -3.623em; left: 50%; margin-left: -0.16em;"><span class="mi" id="MathJax-Span-64" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">λ</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(0.869em, 1001.57em, 1.247em, -999.997em); top: -1.296em; left: 0em;"><span style="display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 1.572em; height: 0px;"></span><span style="display: inline-block; width: 0px; height: 1.085em;"></span></span></span></span><span class="mo" id="MathJax-Span-65" style="font-family: STIXGeneral-Regular;">,</span><span class="mtext" id="MathJax-Span-66" style="font-family: STIXGeneral-Regular; padding-left: 0.165em;">if&nbsp;</span><span class="mi" id="MathJax-Span-67" style="font-family: STIXGeneral-Italic;">λ</span><span class="mo" id="MathJax-Span-68" style="font-family: STIXGeneral-Regular; padding-left: 0.327em;">≠</span><span class="mn" id="MathJax-Span-69" style="font-family: STIXGeneral-Regular; padding-left: 0.327em;">0</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.141em, 1005.96em, 4.386em, -999.997em); top: -3.082em; left: 0em;"><span class="mtd" id="MathJax-Span-70"><span class="mrow" id="MathJax-Span-71"><span class="mi" id="MathJax-Span-72" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-73" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-74" style="font-family: STIXGeneral-Italic;">g</span><span class="mo" id="MathJax-Span-75" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-76" style="font-family: STIXGeneral-Italic;">y</span><span class="mo" id="MathJax-Span-77" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-78" style="font-family: STIXGeneral-Regular;">,</span><span class="mtext" id="MathJax-Span-79" style="font-family: STIXGeneral-Regular; padding-left: 0.165em;">if&nbsp;</span><span class="mi" id="MathJax-Span-80" style="font-family: STIXGeneral-Italic;">λ</span><span class="mo" id="MathJax-Span-81" style="font-family: STIXGeneral-Regular; padding-left: 0.327em;">=</span><span class="mn" id="MathJax-Span-82" style="font-family: STIXGeneral-Regular; padding-left: 0.327em;">0</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-83"></span></span></span><span style="display: inline-block; width: 0px; height: 4.061em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -1.701em; border-left: 0px solid; width: 0px; height: 4.026em;"></span></span></nobr><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msup><mi>y</mi><mo>′</mo></msup><mo>=</mo><mrow><mo>{</mo><mtable columnalign="left left" rowspacing=".2em" columnspacing="1em" displaystyle="false"><mtr><mtd><mfrac><mrow><msup><mi>y</mi><mrow class="MJX-TeXAtom-ORD"><mi>λ</mi></mrow></msup><mo>−</mo><mn>1</mn></mrow><mi>λ</mi></mfrac><mo>,</mo><mtext>if&nbsp;</mtext><mi>λ</mi><mo>≠</mo><mn>0</mn></mtd></mtr><mtr><mtd><mi>l</mi><mi>o</mi><mi>g</mi><mo stretchy="false">(</mo><mi>y</mi><mo stretchy="false">)</mo><mo>,</mo><mtext>if&nbsp;</mtext><mi>λ</mi><mo>=</mo><mn>0</mn></mtd></mtr></mtable><mo fence="true" stretchy="true" symmetric="true"></mo></mrow></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-9">
y'=
\begin{cases}
\frac{y^{\lambda}-1}{\lambda}, \text{if   } \lambda \ne 0\\
log(y), \text{if } \lambda = 0
\end{cases}
</script></span></p>
<p>If the data include any negative observations, a shifting parameter <span class="math inline"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-10-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;&amp;#x03BB;&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-84" style="width: 1.085em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.869em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.301em, 1000.87em, 2.492em, -999.997em); top: -2.162em; left: 0em;"><span class="mrow" id="MathJax-Span-85"><span class="msubsup" id="MathJax-Span-86"><span style="display: inline-block; position: relative; width: 0.869em; height: 0px;"><span style="position: absolute; clip: rect(3.141em, 1000.44em, 4.169em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-87" style="font-family: STIXGeneral-Italic;">λ</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.839em; left: 0.436em;"><span class="mn" id="MathJax-Span-88" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.167em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.269em; border-left: 0px solid; width: 0px; height: 1.163em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>λ</mi><mn>2</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-10">\lambda_2</script></span> can be included in the Box-Cox transformation as given by:<br>
</p>
<p><span class="math display"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-11-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;msup&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo&gt;&amp;#x2032;&lt;/mo&gt;&lt;/msup&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mrow&gt;&lt;mo&gt;{&lt;/mo&gt;&lt;mtable columnalign=&quot;left left&quot; rowspacing=&quot;.2em&quot; columnspacing=&quot;1em&quot; displaystyle=&quot;false&quot;&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mfrac&gt;&lt;mrow&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;&amp;#x03BB;&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;msup&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;&amp;#x03BB;&lt;/mi&gt;&lt;/mrow&gt;&lt;/msup&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;mi&gt;&amp;#x03BB;&lt;/mi&gt;&lt;/mfrac&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mtext&gt;if&amp;#xA0;&lt;/mtext&gt;&lt;mi&gt;&amp;#x03BB;&lt;/mi&gt;&lt;mo&gt;&amp;#x2260;&lt;/mo&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;&amp;#x03BB;&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mtext&gt;if&amp;#xA0;&lt;/mtext&gt;&lt;mi&gt;&amp;#x03BB;&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;/mtable&gt;&lt;mo fence=&quot;true&quot; stretchy=&quot;true&quot; symmetric=&quot;true&quot;&gt;&lt;/mo&gt;&lt;/mrow&gt;&lt;/math&gt;" role="presentation" style="text-align: center; position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-89" style="width: 14.613em; display: inline-block;"><span style="display: inline-block; position: relative; width: 11.583em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(2.113em, 1011.58em, 5.522em, -999.997em); top: -4.056em; left: 0em;"><span class="mrow" id="MathJax-Span-90"><span class="msup" id="MathJax-Span-91"><span style="display: inline-block; position: relative; width: 0.76em; height: 0px;"><span style="position: absolute; clip: rect(3.412em, 1000.44em, 4.386em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-92" style="font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -4.435em; left: 0.436em;"><span class="mo" id="MathJax-Span-93" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-94" style="font-family: STIXGeneral-Regular; padding-left: 0.327em;">=</span><span class="mrow" id="MathJax-Span-95" style="padding-left: 0.327em;"><span class="mo" id="MathJax-Span-96" style="vertical-align: -0.755em;"><span style="font-family: STIXSizeFourSym;">{</span></span><span class="mtable" id="MathJax-Span-97" style="padding-right: 0.165em; padding-left: 0.165em;"><span style="display: inline-block; position: relative; width: 8.065em; height: 0px;"><span style="position: absolute; clip: rect(2.167em, 1008.07em, 5.306em, -999.997em); top: -4.002em; left: 0em;"><span style="display: inline-block; position: relative; width: 8.065em; height: 0px;"><span style="position: absolute; clip: rect(2.654em, 1006.93em, 4.548em, -999.997em); top: -4.489em; left: 0em;"><span class="mtd" id="MathJax-Span-98"><span class="mrow" id="MathJax-Span-99"><span class="mfrac" id="MathJax-Span-100"><span style="display: inline-block; position: relative; width: 3.141em; height: 0px; margin-right: 0.111em; margin-left: 0.111em;"><span style="position: absolute; clip: rect(3.195em, 1002.92em, 4.332em, -999.997em); top: -4.543em; left: 50%; margin-left: -1.512em;"><span class="mrow" id="MathJax-Span-101"><span class="mo" id="MathJax-Span-102" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-103" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">y</span><span class="mo" id="MathJax-Span-104" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">+</span><span class="msubsup" id="MathJax-Span-105"><span style="display: inline-block; position: relative; width: 0.652em; height: 0px;"><span style="position: absolute; clip: rect(3.358em, 1000.33em, 4.169em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-106" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">λ</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.893em; left: 0.327em;"><span class="mn" id="MathJax-Span-107" style="font-size: 50%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-108"><span style="display: inline-block; position: relative; width: 0.544em; height: 0px;"><span style="position: absolute; clip: rect(3.358em, 1000.22em, 4.278em, -999.997em); top: -4.002em; left: 0em;"><span class="mo" id="MathJax-Span-109" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -4.272em; left: 0.219em;"><span class="texatom" id="MathJax-Span-110"><span class="mrow" id="MathJax-Span-111"><span class="mi" id="MathJax-Span-112" style="font-size: 50%; font-family: STIXGeneral-Italic;">λ</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-113" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">−</span><span class="mn" id="MathJax-Span-114" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.358em, 1000.33em, 4.169em, -999.997em); top: -3.623em; left: 50%; margin-left: -0.16em;"><span class="mi" id="MathJax-Span-115" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">λ</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(0.869em, 1003.14em, 1.247em, -999.997em); top: -1.296em; left: 0em;"><span style="display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 3.141em; height: 0px;"></span><span style="display: inline-block; width: 0px; height: 1.085em;"></span></span></span></span><span class="mo" id="MathJax-Span-116" style="font-family: STIXGeneral-Regular;">,</span><span class="mtext" id="MathJax-Span-117" style="font-family: STIXGeneral-Regular; padding-left: 0.165em;">if&nbsp;</span><span class="mi" id="MathJax-Span-118" style="font-family: STIXGeneral-Italic;">λ</span><span class="mo" id="MathJax-Span-119" style="font-family: STIXGeneral-Regular; padding-left: 0.327em;">≠</span><span class="mn" id="MathJax-Span-120" style="font-family: STIXGeneral-Regular; padding-left: 0.327em;">0</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.141em, 1008.07em, 4.386em, -999.997em); top: -3.028em; left: 0em;"><span class="mtd" id="MathJax-Span-121"><span class="mrow" id="MathJax-Span-122"><span class="mi" id="MathJax-Span-123" style="font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-124" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-125" style="font-family: STIXGeneral-Italic;">g</span><span class="mo" id="MathJax-Span-126" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-127" style="font-family: STIXGeneral-Italic;">y</span><span class="mo" id="MathJax-Span-128" style="font-family: STIXGeneral-Regular; padding-left: 0.273em;">+</span><span class="msubsup" id="MathJax-Span-129" style="padding-left: 0.273em;"><span style="display: inline-block; position: relative; width: 0.869em; height: 0px;"><span style="position: absolute; clip: rect(3.141em, 1000.44em, 4.169em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-130" style="font-family: STIXGeneral-Italic;">λ</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.839em; left: 0.436em;"><span class="mn" id="MathJax-Span-131" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-132" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-133" style="font-family: STIXGeneral-Regular;">,</span><span class="mtext" id="MathJax-Span-134" style="font-family: STIXGeneral-Regular; padding-left: 0.165em;">if&nbsp;</span><span class="mi" id="MathJax-Span-135" style="font-family: STIXGeneral-Italic;">λ</span><span class="mo" id="MathJax-Span-136" style="font-family: STIXGeneral-Regular; padding-left: 0.327em;">=</span><span class="mn" id="MathJax-Span-137" style="font-family: STIXGeneral-Regular; padding-left: 0.327em;">0</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-138"></span></span></span><span style="display: inline-block; width: 0px; height: 4.061em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -1.701em; border-left: 0px solid; width: 0px; height: 4.026em;"></span></span></nobr><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msup><mi>y</mi><mo>′</mo></msup><mo>=</mo><mrow><mo>{</mo><mtable columnalign="left left" rowspacing=".2em" columnspacing="1em" displaystyle="false"><mtr><mtd><mfrac><mrow><mo stretchy="false">(</mo><mi>y</mi><mo>+</mo><msub><mi>λ</mi><mn>2</mn></msub><msup><mo stretchy="false">)</mo><mrow class="MJX-TeXAtom-ORD"><mi>λ</mi></mrow></msup><mo>−</mo><mn>1</mn></mrow><mi>λ</mi></mfrac><mo>,</mo><mtext>if&nbsp;</mtext><mi>λ</mi><mo>≠</mo><mn>0</mn></mtd></mtr><mtr><mtd><mi>l</mi><mi>o</mi><mi>g</mi><mo stretchy="false">(</mo><mi>y</mi><mo>+</mo><msub><mi>λ</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mo>,</mo><mtext>if&nbsp;</mtext><mi>λ</mi><mo>=</mo><mn>0</mn></mtd></mtr></mtable><mo fence="true" stretchy="true" symmetric="true"></mo></mrow></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-11">
y'=
\begin{cases}
\frac{(y+\lambda_2)^{\lambda}-1}{\lambda}, \text{if   } \lambda \ne 0\\
log(y+\lambda_2), \text{if } \lambda = 0
\end{cases}
</script></span></p>
<p>As seen in the equations, the <span class="math inline"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-12-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;&amp;#x03BB;&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-139" style="width: 0.544em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.436em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.572em, 1000.44em, 2.6em, -999.997em); top: -2.432em; left: 0em;"><span class="mrow" id="MathJax-Span-140"><span class="mi" id="MathJax-Span-141" style="font-family: STIXGeneral-Italic;">λ</span></span><span style="display: inline-block; width: 0px; height: 2.438em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.065em; border-left: 0px solid; width: 0px; height: 1.026em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>λ</mi></math></span></span><script type="math/tex" id="MathJax-Element-12">\lambda</script></span> parameter is very important for applying this transformation. Essentially, finding a good <span class="math inline"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-13-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;&amp;#x03BB;&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-142" style="width: 0.544em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.436em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.572em, 1000.44em, 2.6em, -999.997em); top: -2.432em; left: 0em;"><span class="mrow" id="MathJax-Span-143"><span class="mi" id="MathJax-Span-144" style="font-family: STIXGeneral-Italic;">λ</span></span><span style="display: inline-block; width: 0px; height: 2.438em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.065em; border-left: 0px solid; width: 0px; height: 1.026em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>λ</mi></math></span></span><script type="math/tex" id="MathJax-Element-13">\lambda</script></span> parameter satisfying the normality assumption is also a hard task and can be done by a search algorithm or the maximum likelihood estimation.<br>
</p>
<p>There are many powerful packages that can be used to apply the Box-Cox transformation. Among them the <code>caret</code>, <code>MASS</code>, <code>forecast</code>, <code>geoR</code>, <code>EnvStats</code>, and <code>AIS</code> packages are only some of them. In this module, I will introduce the <code>forecast</code> package, as this package has very useful functions to find the best <span class="math inline"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-14-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;&amp;#x03BB;&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-145" style="width: 0.544em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.436em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.572em, 1000.44em, 2.6em, -999.997em); top: -2.432em; left: 0em;"><span class="mrow" id="MathJax-Span-146"><span class="mi" id="MathJax-Span-147" style="font-family: STIXGeneral-Italic;">λ</span></span><span style="display: inline-block; width: 0px; height: 2.438em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.065em; border-left: 0px solid; width: 0px; height: 1.026em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>λ</mi></math></span></span><script type="math/tex" id="MathJax-Element-14">\lambda</script></span> parameter for the Box-Cox transformation.<br>
</p>
<pre class="r"><code class="hljs">install.packages(<span class="hljs-string">"forecast"</span>)
<span class="hljs-keyword">library</span>(forecast)</code></pre>
<p>To illustrate the Box-Cox transformation, let’s revisit the salaries data.<br>
<img src="./Module 7_files/unnamed-chunk-15-1.png" width="672" style="display: block; margin: auto;"></p>
<p>In order to automatically find the best Box-Cox transformation parameter <span class="math inline"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-15-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;&amp;#x03BB;&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-148" style="width: 0.544em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.436em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.572em, 1000.44em, 2.6em, -999.997em); top: -2.432em; left: 0em;"><span class="mrow" id="MathJax-Span-149"><span class="mi" id="MathJax-Span-150" style="font-family: STIXGeneral-Italic;">λ</span></span><span style="display: inline-block; width: 0px; height: 2.438em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.065em; border-left: 0px solid; width: 0px; height: 1.026em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>λ</mi></math></span></span><script type="math/tex" id="MathJax-Element-15">\lambda</script></span> we can use <code>BoxCox()</code> function using <code>lambda = "auto"</code> argument as follows:<br>
</p>
<pre class="r"><code class="hljs">boxcox_salary&lt;- BoxCox(salary$salary,lambda = <span class="hljs-string">"auto"</span>)

boxcox_salary</code></pre>
<pre><code class="hljs">##   [1] 0.9854516 0.9843098 0.9880776 0.9836914 0.9839247 0.9884059 0.9851253
##   [8] 0.9874085 0.9858459 0.9850740 0.9873092 0.9847786 0.9849209 0.9838516
##  [15] 0.9854367 0.9885507 0.9852480 0.9888978 0.9858898 0.9851649 0.9869156
##  [22] 0.9842642 0.9868061 0.9859724 0.9856557 0.9883476 0.9862898 0.9840183
##  [29] 0.9870956 0.9873814 0.9850089 0.9845480 0.9864513 0.9864038 0.9862435
##  [36] 0.9858513 0.9854306 0.9836568 0.9845873 0.9848507 0.9858697 0.9842264
##  [43] 0.9874093 0.9892644 0.9872696 0.9870576 0.9849282 0.9851445 0.9861231
##  [50] 0.9837430 0.9843956 0.9835208 0.9835794 0.9876528 0.9842934 0.9879858
##  [57] 0.9880561 0.9855286 0.9839034 0.9842566 0.9848478 0.9852627 0.9846847
##  [64] 0.9867864 0.9869258 0.9845785 0.9850825 0.9836207 0.9865264 0.9890520
##  [71] 0.9852255 0.9895047 0.9867523 0.9859134 0.9858494 0.9868049 0.9845107
##  [78] 0.9873009 0.9841256 0.9839621 0.9834266 0.9848674 0.9848165 0.9857158
##  [85] 0.9842736 0.9846796 0.9869905 0.9850385 0.9846588 0.9871225 0.9867197
##  [92] 0.9854128 0.9843416 0.9856647 0.9876344 0.9855781 0.9892965 0.9880210
##  [99] 0.9843304 0.9868072
## attr(,"lambda")
## [1] -0.9999242</code></pre>
<p>This function returns the transformed data values. From this output the optimum <span class="math inline"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-16-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;&amp;#x03BB;&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-151" style="width: 0.544em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.436em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.572em, 1000.44em, 2.6em, -999.997em); top: -2.432em; left: 0em;"><span class="mrow" id="MathJax-Span-152"><span class="mi" id="MathJax-Span-153" style="font-family: STIXGeneral-Italic;">λ</span></span><span style="display: inline-block; width: 0px; height: 2.438em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.065em; border-left: 0px solid; width: 0px; height: 1.026em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>λ</mi></math></span></span><script type="math/tex" id="MathJax-Element-16">\lambda</script></span> value is found as -0.9999242. We can also see the distribution of transformed values using histogram.<br>
</p>
<pre class="r"><code class="hljs">hist(boxcox_salary)</code></pre>
<p><img src="./Module 7_files/unnamed-chunk-17-1.png" width="672" style="display: block; margin: auto;"></p>
<p>Let’s apply the Box-Cox transformation to another data set:<br>
</p>
<pre class="r"><code class="hljs">x3&lt;- read.csv(<span class="hljs-string">"data/right_skewed1.csv"</span>)

x3&lt;-x3[,-<span class="hljs-number">1</span>] <span class="hljs-comment"># dropping the first column</span>

hist(x3)</code></pre>
<p><img src="./Module 7_files/unnamed-chunk-18-1.png" width="672" style="display: block; margin: auto;"></p>
<pre class="r"><code class="hljs">boxcox_x3&lt;- BoxCox(x3,lambda = <span class="hljs-string">"auto"</span>)

hist(boxcox_x3)</code></pre>
<p><img src="./Module 7_files/unnamed-chunk-19-1.png" width="672" style="display: block; margin: auto;"></p>
<p>As you can see from the example, the Box-Cox transformation is very successful in transforming skewed distributions into a symmetric distribution.<br>
</p>
</div>
</div>
<div id="data-normalisation" class="section level1">
<div name="data_normalisation" data-unique="data_normalisation"></div><h1>Data Normalisation</h1>
<p>Some statistical analysis methods are sensitive to the scale of the variables and there can be instances found in data sets where values for one variable could range between 1-10 and values for other variable could range from 1-10000000. In scenarios like these, the impact on response variables by the variables having greater numeric range (i.e., 1-10000000), could be more than the one having less numeric range (i.e.&nbsp;1-10).<br>
</p>
<p>Especially for the distance based methods in machine learning, this could in turn impact the prediction accuracy. For such cases, we may need to normalise or scale the values under different variables such that they fall under common range.<br>
</p>
<p>There are different normalisation techniques used in machine learning. These are centering using mean, scaling using standard deviation, z-score transformation (i.e., centering and scaling using both mean and standard deviation), the min-max, range and (0-1) transformation.<br>
</p>
<div id="centering-and-scaling" class="section level2">
<div name="centering_and_scaling" data-unique="centering_and_scaling"></div><h2>Centering and scaling</h2>
<p><strong>Centering (a.k.a. mean-centering)</strong> involves the subtraction of the variable average from the data.<br>
</p>
<p>Let <span class="math inline"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-17-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-154" style="width: 0.544em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.436em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.843em, 1000.44em, 2.817em, -999.997em); top: -2.432em; left: 0em;"><span class="mrow" id="MathJax-Span-155"><span class="mi" id="MathJax-Span-156" style="font-family: STIXGeneral-Italic;">y</span></span><span style="display: inline-block; width: 0px; height: 2.438em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.338em; border-left: 0px solid; width: 0px; height: 0.958em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>y</mi></math></span></span><script type="math/tex" id="MathJax-Element-17">y</script></span> denote the variable at the original scale and the <span class="math inline"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-18-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mover&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;&amp;#x00AF;&lt;/mo&gt;&lt;/mover&gt;&lt;/mrow&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-157" style="width: 0.544em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.436em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.356em, 1000.44em, 2.546em, -999.997em); top: -2.162em; left: 0em;"><span class="mrow" id="MathJax-Span-158"><span class="texatom" id="MathJax-Span-159"><span class="mrow" id="MathJax-Span-160"><span class="munderover" id="MathJax-Span-161"><span style="display: inline-block; position: relative; width: 0.436em; height: 0px;"><span style="position: absolute; clip: rect(3.412em, 1000.44em, 4.386em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-162" style="font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.249em, 1000.33em, 3.628em, -999.997em); top: -4.056em; left: 0.057em;"><span class="mo" id="MathJax-Span-163" style="font-family: STIXGeneral-Regular;">¯</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.167em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.338em; border-left: 0px solid; width: 0px; height: 1.163em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mover><mi>y</mi><mo stretchy="false">¯</mo></mover></mrow></math></span></span><script type="math/tex" id="MathJax-Element-18">\bar{y}</script></span> is the average. The centered variable <span class="math inline"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-19-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msup&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mo&gt;&amp;#x2018;&lt;/mo&gt;&lt;/mrow&gt;&lt;/msup&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-164" style="width: 0.977em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.76em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.139em, 1000.76em, 2.546em, -999.997em); top: -2.162em; left: 0em;"><span class="mrow" id="MathJax-Span-165"><span class="msubsup" id="MathJax-Span-166"><span style="display: inline-block; position: relative; width: 0.76em; height: 0px;"><span style="position: absolute; clip: rect(3.412em, 1000.44em, 4.386em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-167" style="font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -4.38em; left: 0.436em;"><span class="texatom" id="MathJax-Span-168"><span class="mrow" id="MathJax-Span-169"><span class="mo" id="MathJax-Span-170" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">‘</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.167em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.338em; border-left: 0px solid; width: 0px; height: 1.435em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>y</mi><mrow class="MJX-TeXAtom-ORD"><mo>‘</mo></mrow></msup></math></span></span><script type="math/tex" id="MathJax-Element-19">y^{`}</script></span> is defined as:<br>
<span class="math display"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-20-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;msup&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo&gt;&amp;#x2032;&lt;/mo&gt;&lt;/msup&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mover&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;&amp;#x00AF;&lt;/mo&gt;&lt;/mover&gt;&lt;/mrow&gt;&lt;/math&gt;" role="presentation" style="text-align: center; position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-171" style="width: 5.36em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.223em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.464em, 1004.22em, 2.817em, -999.997em); top: -2.432em; left: 0em;"><span class="mrow" id="MathJax-Span-172"><span class="msup" id="MathJax-Span-173"><span style="display: inline-block; position: relative; width: 0.76em; height: 0px;"><span style="position: absolute; clip: rect(3.412em, 1000.44em, 4.386em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-174" style="font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -4.435em; left: 0.436em;"><span class="mo" id="MathJax-Span-175" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-176" style="font-family: STIXGeneral-Regular; padding-left: 0.327em;">=</span><span class="mi" id="MathJax-Span-177" style="font-family: STIXGeneral-Italic; padding-left: 0.327em;">y</span><span class="mo" id="MathJax-Span-178" style="font-family: STIXGeneral-Regular; padding-left: 0.273em;">−</span><span class="texatom" id="MathJax-Span-179" style="padding-left: 0.273em;"><span class="mrow" id="MathJax-Span-180"><span class="munderover" id="MathJax-Span-181"><span style="display: inline-block; position: relative; width: 0.436em; height: 0px;"><span style="position: absolute; clip: rect(3.412em, 1000.44em, 4.386em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-182" style="font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.249em, 1000.33em, 3.628em, -999.997em); top: -4.056em; left: 0.057em;"><span class="mo" id="MathJax-Span-183" style="font-family: STIXGeneral-Regular;">¯</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.438em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.338em; border-left: 0px solid; width: 0px; height: 1.435em;"></span></span></nobr><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msup><mi>y</mi><mo>′</mo></msup><mo>=</mo><mi>y</mi><mo>−</mo><mrow class="MJX-TeXAtom-ORD"><mover><mi>y</mi><mo stretchy="false">¯</mo></mover></mrow></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-20">
y'= y-\bar{y}
</script></span></p>
<p>If we have more than one variable to center, we can calculate the average value of each variable and then subtract it from the data. This implies that each column will be transformed in such a way that the resulting variable will have a zero mean.<br>
</p>
<p>We can use simple user-defined functions or built-in functions available in R to center variables. One of the functions to apply mean-centering is the <code>scale()</code> function under Base R. The <code>scale()</code> function has the following arguments:</p>
<p><strong><code>x</code></strong>: a numeric object<br>
</p>
<p><strong><code>center</code></strong>: if <code>TRUE</code>, the objects’ column means are subtracted from the values in those columns (ignoring NAs); if <code>FALSE</code>, centering is not performed.<br>
</p>
<p><strong><code>scale</code></strong>: if <code>TRUE</code>, the centered column values are divided by the column’s standard deviation (when center is also TRUE) or divided by the root-mean-square (when center is FALSE). If <code>scale = FALSE</code>, scaling is not performed.&nbsp;</p>
<p>To illustrate centering, let’s take this data frame:<br>
</p>
<pre class="r"><code class="hljs">df &lt;- data.frame(x1 = c(<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">40</span>, <span class="hljs-number">50</span>, <span class="hljs-number">10</span>),
                 x2 = c(<span class="hljs-number">1000</span>, <span class="hljs-number">5000</span>, <span class="hljs-number">3000</span>, <span class="hljs-number">2000</span>, <span class="hljs-number">1500</span>), 
                 x3 = c(<span class="hljs-number">0.1</span>, <span class="hljs-number">0.12</span>, <span class="hljs-number">0.11</span>, <span class="hljs-number">0.14</span>, <span class="hljs-number">0.16</span>), 
                 x4 = c(<span class="hljs-number">2.5</span>, <span class="hljs-number">4.2</span>, <span class="hljs-number">3.2</span>, <span class="hljs-number">4.5</span>, <span class="hljs-number">3.8</span>) )</code></pre>
<p>To apply mean-centering, the <code>scale</code> function can be used as follows:<br>
</p>
<pre class="r"><code class="hljs">center_x &lt;-scale(df, center = <span class="hljs-literal">TRUE</span>, scale = <span class="hljs-literal">FALSE</span>)

center_x</code></pre>
<pre><code class="hljs">##       x1    x2     x3    x4
## [1,] -16 -1500 -0.026 -1.14
## [2,]  -6  2500 -0.006  0.56
## [3,]  14   500 -0.016 -0.44
## [4,]  24  -500  0.014  0.86
## [5,] -16 -1000  0.034  0.16
## attr(,"scaled:center")
##       x1       x2       x3       x4 
##   26.000 2500.000    0.126    3.640</code></pre>
<p>In the output, the new centered values for each column are given along with the column (variables’) averages.<br>
</p>
<p><strong>Scaling</strong> involves the division of the values to its standard deviation (or root-mean-square value).<br>
</p>
<p>Let <span class="math inline"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-21-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-184" style="width: 0.544em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.436em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.843em, 1000.44em, 2.817em, -999.997em); top: -2.432em; left: 0em;"><span class="mrow" id="MathJax-Span-185"><span class="mi" id="MathJax-Span-186" style="font-family: STIXGeneral-Italic;">y</span></span><span style="display: inline-block; width: 0px; height: 2.438em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.338em; border-left: 0px solid; width: 0px; height: 0.958em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>y</mi></math></span></span><script type="math/tex" id="MathJax-Element-21">y</script></span> denote the variable at the original scale and the <span class="math inline"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-22-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;S&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;D&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-187" style="width: 2.059em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.626em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.626em, 1001.63em, 2.871em, -999.997em); top: -2.432em; left: 0em;"><span class="mrow" id="MathJax-Span-188"><span class="mi" id="MathJax-Span-189" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="msubsup" id="MathJax-Span-190"><span style="display: inline-block; position: relative; width: 1.139em; height: 0px;"><span style="position: absolute; clip: rect(3.195em, 1000.71em, 4.169em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-191" style="font-family: STIXGeneral-Italic;">D</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.839em; left: 0.706em;"><span class="texatom" id="MathJax-Span-192"><span class="mrow" id="MathJax-Span-193"><span class="mi" id="MathJax-Span-194" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">y</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.438em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.406em; border-left: 0px solid; width: 0px; height: 1.367em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>S</mi><msub><mi>D</mi><mrow class="MJX-TeXAtom-ORD"><mi>y</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-22">SD_{y}</script></span> is the standard deviation. The scaled variable <span class="math inline"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-23-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msup&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mo&gt;&amp;#x2018;&lt;/mo&gt;&lt;/mrow&gt;&lt;/msup&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-195" style="width: 0.977em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.76em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.139em, 1000.76em, 2.546em, -999.997em); top: -2.162em; left: 0em;"><span class="mrow" id="MathJax-Span-196"><span class="msubsup" id="MathJax-Span-197"><span style="display: inline-block; position: relative; width: 0.76em; height: 0px;"><span style="position: absolute; clip: rect(3.412em, 1000.44em, 4.386em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-198" style="font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -4.38em; left: 0.436em;"><span class="texatom" id="MathJax-Span-199"><span class="mrow" id="MathJax-Span-200"><span class="mo" id="MathJax-Span-201" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">‘</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.167em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.338em; border-left: 0px solid; width: 0px; height: 1.435em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>y</mi><mrow class="MJX-TeXAtom-ORD"><mo>‘</mo></mrow></msup></math></span></span><script type="math/tex" id="MathJax-Element-23">y^{`}</script></span> is defined as:<br>
</p>
<p><span class="math display"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-24-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;msup&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo&gt;&amp;#x2032;&lt;/mo&gt;&lt;/msup&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mfrac&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mrow&gt;&lt;mi&gt;S&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;D&lt;/mi&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/mfrac&gt;&lt;/math&gt;" role="presentation" style="text-align: center; position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-202" style="width: 5.143em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.061em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.139em, 1004.06em, 3.574em, -999.997em); top: -2.432em; left: 0em;"><span class="mrow" id="MathJax-Span-203"><span class="msup" id="MathJax-Span-204"><span style="display: inline-block; position: relative; width: 0.76em; height: 0px;"><span style="position: absolute; clip: rect(3.412em, 1000.44em, 4.386em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-205" style="font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -4.435em; left: 0.436em;"><span class="mo" id="MathJax-Span-206" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-207" style="font-family: STIXGeneral-Regular; padding-left: 0.327em;">=</span><span class="mfrac" id="MathJax-Span-208" style="padding-left: 0.327em;"><span style="display: inline-block; position: relative; width: 1.734em; height: 0px; margin-right: 0.111em; margin-left: 0.111em;"><span style="position: absolute; clip: rect(3.412em, 1000.44em, 4.386em, -999.997em); top: -4.705em; left: 50%; margin-left: -0.214em;"><span class="mi" id="MathJax-Span-209" style="font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.195em, 1001.63em, 4.44em, -999.997em); top: -3.298em; left: 50%; margin-left: -0.809em;"><span class="mrow" id="MathJax-Span-210"><span class="mi" id="MathJax-Span-211" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="msubsup" id="MathJax-Span-212"><span style="display: inline-block; position: relative; width: 1.139em; height: 0px;"><span style="position: absolute; clip: rect(3.195em, 1000.71em, 4.169em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-213" style="font-family: STIXGeneral-Italic;">D</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.839em; left: 0.706em;"><span class="mi" id="MathJax-Span-214" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(0.869em, 1001.73em, 1.247em, -999.997em); top: -1.296em; left: 0em;"><span style="display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 1.734em; height: 0px;"></span><span style="display: inline-block; width: 0px; height: 1.085em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.438em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -1.292em; border-left: 0px solid; width: 0px; height: 2.799em;"></span></span></nobr><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msup><mi>y</mi><mo>′</mo></msup><mo>=</mo><mfrac><mi>y</mi><mrow><mi>S</mi><msub><mi>D</mi><mi>y</mi></msub></mrow></mfrac></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-24">
y'= \frac{y}{SD_y}
</script></span> In order to apply just scaling (without centering) to the data frame we can use <code>center = FALSE</code> and <code>scale = TRUE</code> arguments as follows:<br>
</p>
<pre class="r"><code class="hljs">scale_x1 &lt;- scale(df, center = <span class="hljs-literal">FALSE</span>, scale = <span class="hljs-literal">TRUE</span>)

scale_x1</code></pre>
<pre><code class="hljs">##           x1        x2        x3        x4
## [1,] 0.29173 0.3113996 0.6997114 0.6027159
## [2,] 0.58346 1.5569979 0.8396537 1.0125628
## [3,] 1.16692 0.9341987 0.7696826 0.7714764
## [4,] 1.45865 0.6227992 0.9795960 1.0848887
## [5,] 0.29173 0.4670994 1.1195383 0.9161282
## attr(,"scaled:scale")
##           x1           x2           x3           x4 
##   34.2782730 3211.3081447    0.1429161    4.1478910</code></pre>
<p>Note that, when we scale values without centering, the <code>scale()</code> function divides the values to the <strong>root-mean-square</strong> value instead of standard deviation. Therefore, in this output the new scaled variables are actually scaled with the column root-mean-square values.<br>
</p>
<p>If we want to scale by the standard deviations without centering, we can use the following:<br>
</p>
<pre class="r"><code class="hljs">scale_x2 &lt;- scale(df, center = <span class="hljs-literal">FALSE</span>, scale = apply(df, <span class="hljs-number">2</span>, sd, na.rm = <span class="hljs-literal">TRUE</span>))

scale_x2</code></pre>
<pre><code class="hljs">##             x1        x2       x3       x4
## [1,] 0.5504819 0.6324555 4.152274 3.117701
## [2,] 1.1009638 3.1622777 4.982729 5.237738
## [3,] 2.2019275 1.8973666 4.567501 3.990658
## [4,] 2.7524094 1.2649111 5.813184 5.611863
## [5,] 0.5504819 0.9486833 6.643638 4.738906
## attr(,"scaled:scale")
##           x1           x2           x3           x4 
## 1.816590e+01 1.581139e+03 2.408319e-02 8.018728e-01</code></pre>
<p>The output above now reports the scaled values (by standard deviation) along with the column standard deviations.<br>
</p>
<p>Usually, scaling is not used alone, instead, it is used together with mean-centering and then it is called as the z-score standardisation.<br>
</p>
</div>
<div id="z-score-standardisation" class="section level2">
<div name="z_score_standardisation" data-unique="z_score_standardisation"></div><h2>z score standardisation</h2>
<p>Note that in Module 6, we have already seen the <span class="math inline"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-25-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;z&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-215" style="width: 0.49em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.381em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.843em, 1000.38em, 2.654em, -999.997em); top: -2.432em; left: 0em;"><span class="mrow" id="MathJax-Span-216"><span class="mi" id="MathJax-Span-217" style="font-family: STIXGeneral-Italic;">z</span></span><span style="display: inline-block; width: 0px; height: 2.438em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.133em; border-left: 0px solid; width: 0px; height: 0.753em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>z</mi></math></span></span><script type="math/tex" id="MathJax-Element-25">z</script></span>-scores and we used them to detect the outliers. In the <span class="math inline"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-26-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;z&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-218" style="width: 0.49em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.381em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.843em, 1000.38em, 2.654em, -999.997em); top: -2.432em; left: 0em;"><span class="mrow" id="MathJax-Span-219"><span class="mi" id="MathJax-Span-220" style="font-family: STIXGeneral-Italic;">z</span></span><span style="display: inline-block; width: 0px; height: 2.438em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.133em; border-left: 0px solid; width: 0px; height: 0.753em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>z</mi></math></span></span><script type="math/tex" id="MathJax-Element-26">z</script></span>-score transformation, the mean of observations are first subtracted from each individual data point, then divided by the standard deviation of all points. The resulting transformed data values would have a zero mean and one standard deviation. The <span class="math inline"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-27-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;z&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-221" style="width: 0.49em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.381em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.843em, 1000.38em, 2.654em, -999.997em); top: -2.432em; left: 0em;"><span class="mrow" id="MathJax-Span-222"><span class="mi" id="MathJax-Span-223" style="font-family: STIXGeneral-Italic;">z</span></span><span style="display: inline-block; width: 0px; height: 2.438em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.133em; border-left: 0px solid; width: 0px; height: 0.753em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>z</mi></math></span></span><script type="math/tex" id="MathJax-Element-27">z</script></span>-score transformation can be applied using the following equation:<br>
</p>
<p><span class="math display"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-28-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mi&gt;z&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mfrac&gt;&lt;mrow&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mover&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;&amp;#x00AF;&lt;/mo&gt;&lt;/mover&gt;&lt;/mrow&gt;&lt;/mrow&gt;&lt;mrow&gt;&lt;mi&gt;S&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;D&lt;/mi&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/mfrac&gt;&lt;/math&gt;" role="presentation" style="text-align: center; position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-224" style="width: 5.252em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.169em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(0.977em, 1004.17em, 3.574em, -999.997em); top: -2.432em; left: 0em;"><span class="mrow" id="MathJax-Span-225"><span class="mi" id="MathJax-Span-226" style="font-family: STIXGeneral-Italic;">z</span><span class="mo" id="MathJax-Span-227" style="font-family: STIXGeneral-Regular; padding-left: 0.327em;">=</span><span class="mfrac" id="MathJax-Span-228" style="padding-left: 0.327em;"><span style="display: inline-block; position: relative; width: 2.221em; height: 0px; margin-right: 0.111em; margin-left: 0.111em;"><span style="position: absolute; clip: rect(3.195em, 1002.11em, 4.386em, -999.997em); top: -4.705em; left: 50%; margin-left: -1.08em;"><span class="mrow" id="MathJax-Span-229"><span class="mi" id="MathJax-Span-230" style="font-family: STIXGeneral-Italic;">y</span><span class="mo" id="MathJax-Span-231" style="font-family: STIXGeneral-Regular; padding-left: 0.273em;">−</span><span class="texatom" id="MathJax-Span-232" style="padding-left: 0.273em;"><span class="mrow" id="MathJax-Span-233"><span class="munderover" id="MathJax-Span-234"><span style="display: inline-block; position: relative; width: 0.436em; height: 0px;"><span style="position: absolute; clip: rect(3.412em, 1000.44em, 4.386em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-235" style="font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.249em, 1000.33em, 3.628em, -999.997em); top: -4.056em; left: 0.057em;"><span class="mo" id="MathJax-Span-236" style="font-family: STIXGeneral-Regular;">¯</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.195em, 1001.63em, 4.44em, -999.997em); top: -3.298em; left: 50%; margin-left: -0.809em;"><span class="mrow" id="MathJax-Span-237"><span class="mi" id="MathJax-Span-238" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="msubsup" id="MathJax-Span-239"><span style="display: inline-block; position: relative; width: 1.139em; height: 0px;"><span style="position: absolute; clip: rect(3.195em, 1000.71em, 4.169em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-240" style="font-family: STIXGeneral-Italic;">D</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.839em; left: 0.706em;"><span class="mi" id="MathJax-Span-241" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(0.869em, 1002.22em, 1.247em, -999.997em); top: -1.296em; left: 0em;"><span style="display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 2.221em; height: 0px;"></span><span style="display: inline-block; width: 0px; height: 1.085em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.438em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -1.292em; border-left: 0px solid; width: 0px; height: 3.003em;"></span></span></nobr><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>z</mi><mo>=</mo><mfrac><mrow><mi>y</mi><mo>−</mo><mrow class="MJX-TeXAtom-ORD"><mover><mi>y</mi><mo stretchy="false">¯</mo></mover></mrow></mrow><mrow><mi>S</mi><msub><mi>D</mi><mi>y</mi></msub></mrow></mfrac></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-28"> z = \frac{y - \bar{y}}{SD_y}</script></span></p>
<p>In the equation below, <span class="math inline"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-29-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-242" style="width: 0.544em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.436em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.843em, 1000.44em, 2.817em, -999.997em); top: -2.432em; left: 0em;"><span class="mrow" id="MathJax-Span-243"><span class="mi" id="MathJax-Span-244" style="font-family: STIXGeneral-Italic;">y</span></span><span style="display: inline-block; width: 0px; height: 2.438em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.338em; border-left: 0px solid; width: 0px; height: 0.958em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>y</mi></math></span></span><script type="math/tex" id="MathJax-Element-29">y</script></span> denotes the values of observations, <span class="math inline"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-30-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mover&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;&amp;#x00AF;&lt;/mo&gt;&lt;/mover&gt;&lt;/mrow&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-245" style="width: 0.544em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.436em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.356em, 1000.44em, 2.546em, -999.997em); top: -2.162em; left: 0em;"><span class="mrow" id="MathJax-Span-246"><span class="texatom" id="MathJax-Span-247"><span class="mrow" id="MathJax-Span-248"><span class="munderover" id="MathJax-Span-249"><span style="display: inline-block; position: relative; width: 0.436em; height: 0px;"><span style="position: absolute; clip: rect(3.412em, 1000.44em, 4.386em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-250" style="font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.249em, 1000.33em, 3.628em, -999.997em); top: -4.056em; left: 0.057em;"><span class="mo" id="MathJax-Span-251" style="font-family: STIXGeneral-Regular;">¯</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.167em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.338em; border-left: 0px solid; width: 0px; height: 1.163em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mover><mi>y</mi><mo stretchy="false">¯</mo></mover></mrow></math></span></span><script type="math/tex" id="MathJax-Element-30">\bar{y}</script></span> and <span class="math inline"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-31-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;S&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;D&lt;/mi&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-252" style="width: 2.059em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.626em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.626em, 1001.63em, 2.871em, -999.997em); top: -2.432em; left: 0em;"><span class="mrow" id="MathJax-Span-253"><span class="mi" id="MathJax-Span-254" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="msubsup" id="MathJax-Span-255"><span style="display: inline-block; position: relative; width: 1.139em; height: 0px;"><span style="position: absolute; clip: rect(3.195em, 1000.71em, 4.169em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-256" style="font-family: STIXGeneral-Italic;">D</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.839em; left: 0.706em;"><span class="mi" id="MathJax-Span-257" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.438em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.406em; border-left: 0px solid; width: 0px; height: 1.367em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>S</mi><msub><mi>D</mi><mi>y</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-31">SD_y</script></span> are the sample mean and standard deviation, respectively.<br>
</p>
<p>The <span class="math inline"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-32-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;z&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-258" style="width: 0.49em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.381em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.843em, 1000.38em, 2.654em, -999.997em); top: -2.432em; left: 0em;"><span class="mrow" id="MathJax-Span-259"><span class="mi" id="MathJax-Span-260" style="font-family: STIXGeneral-Italic;">z</span></span><span style="display: inline-block; width: 0px; height: 2.438em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.133em; border-left: 0px solid; width: 0px; height: 0.753em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>z</mi></math></span></span><script type="math/tex" id="MathJax-Element-32">z</script></span>-score transformation can also be applied using the <code>scale()</code> with the <code>center = TRUE, scale = TRUE</code> arguments.<br>
</p>
<pre class="r"><code class="hljs">z_x &lt;- scale(df, center = <span class="hljs-literal">TRUE</span>, scale = <span class="hljs-literal">TRUE</span>)

z_x</code></pre>
<pre><code class="hljs">##              x1         x2         x3         x4
## [1,] -0.8807710 -0.9486833 -1.0795912 -1.4216719
## [2,] -0.3302891  1.5811388 -0.2491364  0.6983651
## [3,]  0.7706746  0.3162278 -0.6643638 -0.5487155
## [4,]  1.3211565 -0.3162278  0.5813184  1.0724893
## [5,] -0.8807710 -0.6324555  1.4117732  0.1995329
## attr(,"scaled:center")
##       x1       x2       x3       x4 
##   26.000 2500.000    0.126    3.640 
## attr(,"scaled:scale")
##           x1           x2           x3           x4 
## 1.816590e+01 1.581139e+03 2.408319e-02 8.018728e-01</code></pre>
<p>Note that we can also use other functions (i.e., <code>scores()</code>) from other packages to get the same result.<br>
</p>
</div>
<div id="min--max-normalisation-a.k.a.-range-or-0-1-normalisation" class="section level2">
<div name="min-_max_normalisation_(aka_range_or_(0-1)_normalisation)" data-unique="min-_max_normalisation_(aka_range_or_(0-1)_normalisation)"></div><h2>Min- Max Normalisation (a.k.a. range or (0-1) normalisation)</h2>
<p>An alternative approach to <span class="math inline"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-33-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;z&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-261" style="width: 0.49em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.381em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.843em, 1000.38em, 2.654em, -999.997em); top: -2.432em; left: 0em;"><span class="mrow" id="MathJax-Span-262"><span class="mi" id="MathJax-Span-263" style="font-family: STIXGeneral-Italic;">z</span></span><span style="display: inline-block; width: 0px; height: 2.438em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.133em; border-left: 0px solid; width: 0px; height: 0.753em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>z</mi></math></span></span><script type="math/tex" id="MathJax-Element-33">z</script></span>-score standardisation is the Min-Max normalisation technique which specifies the following formula to be applied to each value of features to be normalised.<br>
</p>
<p><span class="math display"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-34-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;msup&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo&gt;&amp;#x2032;&lt;/mo&gt;&lt;/msup&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mfrac&gt;&lt;mrow&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/mfrac&gt;&lt;/math&gt;" role="presentation" style="text-align: center; position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-264" style="width: 8.823em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.983em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.031em, 1006.98em, 3.466em, -999.997em); top: -2.432em; left: 0em;"><span class="mrow" id="MathJax-Span-265"><span class="msup" id="MathJax-Span-266"><span style="display: inline-block; position: relative; width: 0.76em; height: 0px;"><span style="position: absolute; clip: rect(3.412em, 1000.44em, 4.386em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-267" style="font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -4.435em; left: 0.436em;"><span class="mo" id="MathJax-Span-268" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-269" style="font-family: STIXGeneral-Regular; padding-left: 0.327em;">=</span><span class="mfrac" id="MathJax-Span-270" style="padding-left: 0.327em;"><span style="display: inline-block; position: relative; width: 4.656em; height: 0px; margin-right: 0.111em; margin-left: 0.111em;"><span style="position: absolute; clip: rect(3.304em, 1003.25em, 4.386em, -999.997em); top: -4.705em; left: 50%; margin-left: -1.621em;"><span class="mrow" id="MathJax-Span-271"><span class="mi" id="MathJax-Span-272" style="font-family: STIXGeneral-Italic;">y</span><span class="mo" id="MathJax-Span-273" style="font-family: STIXGeneral-Regular; padding-left: 0.273em;">−</span><span class="msubsup" id="MathJax-Span-274" style="padding-left: 0.273em;"><span style="display: inline-block; position: relative; width: 1.572em; height: 0px;"><span style="position: absolute; clip: rect(3.412em, 1000.44em, 4.386em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-275" style="font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.839em; left: 0.436em;"><span class="texatom" id="MathJax-Span-276"><span class="mrow" id="MathJax-Span-277"><span class="mi" id="MathJax-Span-278" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">m</span><span class="mi" id="MathJax-Span-279" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span class="mi" id="MathJax-Span-280" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.304em, 1004.49em, 4.386em, -999.997em); top: -3.298em; left: 50%; margin-left: -2.27em;"><span class="mrow" id="MathJax-Span-281"><span class="msubsup" id="MathJax-Span-282"><span style="display: inline-block; position: relative; width: 1.68em; height: 0px;"><span style="position: absolute; clip: rect(3.412em, 1000.44em, 4.386em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-283" style="font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.839em; left: 0.436em;"><span class="texatom" id="MathJax-Span-284"><span class="mrow" id="MathJax-Span-285"><span class="mi" id="MathJax-Span-286" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">m</span><span class="mi" id="MathJax-Span-287" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-288" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-289" style="font-family: STIXGeneral-Regular; padding-left: 0.273em;">−</span><span class="msubsup" id="MathJax-Span-290" style="padding-left: 0.273em;"><span style="display: inline-block; position: relative; width: 1.572em; height: 0px;"><span style="position: absolute; clip: rect(3.412em, 1000.44em, 4.386em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-291" style="font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.839em; left: 0.436em;"><span class="texatom" id="MathJax-Span-292"><span class="mrow" id="MathJax-Span-293"><span class="mi" id="MathJax-Span-294" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">m</span><span class="mi" id="MathJax-Span-295" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span class="mi" id="MathJax-Span-296" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(0.869em, 1004.66em, 1.247em, -999.997em); top: -1.296em; left: 0em;"><span style="display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 4.656em; height: 0px;"></span><span style="display: inline-block; width: 0px; height: 1.085em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.438em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -1.156em; border-left: 0px solid; width: 0px; height: 2.799em;"></span></span></nobr><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msup><mi>y</mi><mo>′</mo></msup><mo>=</mo><mfrac><mrow><mi>y</mi><mo>−</mo><msub><mi>y</mi><mrow class="MJX-TeXAtom-ORD"><mi>m</mi><mi>i</mi><mi>n</mi></mrow></msub></mrow><mrow><msub><mi>y</mi><mrow class="MJX-TeXAtom-ORD"><mi>m</mi><mi>a</mi><mi>x</mi></mrow></msub><mo>−</mo><msub><mi>y</mi><mrow class="MJX-TeXAtom-ORD"><mi>m</mi><mi>i</mi><mi>n</mi></mrow></msub></mrow></mfrac></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-34"> y' = \frac{y - y_{min}}{y_{max}- y_{min}}</script></span></p>
<p>In this approach, the data is scaled to a fixed range - usually 0 to 1. This is why sometimes this method is called (0-1) normalisation. In contrast to <span class="math inline"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-35-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;z&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-297" style="width: 0.49em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.381em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.843em, 1000.38em, 2.654em, -999.997em); top: -2.432em; left: 0em;"><span class="mrow" id="MathJax-Span-298"><span class="mi" id="MathJax-Span-299" style="font-family: STIXGeneral-Italic;">z</span></span><span style="display: inline-block; width: 0px; height: 2.438em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.133em; border-left: 0px solid; width: 0px; height: 0.753em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>z</mi></math></span></span><script type="math/tex" id="MathJax-Element-35">z</script></span>-score standardisation this normalisation can suppress the effect of outliers.<br>
</p>
<p>In R, the min-max normalisation can be applied in many ways and the simplest way would be writing a function like the following:<br>
</p>
<pre class="r"><code class="hljs">minmaxnormalise &lt;- <span class="hljs-keyword">function</span>(x){(x- min(x)) /(max(x)-min(x))}</code></pre>
<p>Then, using <code>lapply()</code> one can apply this function to a data frame.<br>
</p>
<pre class="r"><code class="hljs">lapply(df, minmaxnormalise)</code></pre>
<pre><code class="hljs">## $x1
## [1] 0.00 0.25 0.75 1.00 0.00
## 
## $x2
## [1] 0.000 1.000 0.500 0.250 0.125
## 
## $x3
## [1] 0.0000000 0.3333333 0.1666667 0.6666667 1.0000000
## 
## $x4
## [1] 0.00 0.85 0.35 1.00 0.65</code></pre>
<p>If you would like to store the normalised values as a data frame you may also use <code>as.data.frame()</code> function:<br>
</p>
<pre class="r"><code class="hljs">as.data.frame(lapply(df, minmaxnormalise))</code></pre>
<pre><code class="hljs">##     x1    x2        x3   x4
## 1 0.00 0.000 0.0000000 0.00
## 2 0.25 1.000 0.3333333 0.85
## 3 0.75 0.500 0.1666667 0.35
## 4 1.00 0.250 0.6666667 1.00
## 5 0.00 0.125 1.0000000 0.65</code></pre>
</div>
</div>
<div id="binning-a.k.a.-discretisation" class="section level1">
<div name="binning_(aka_discretisation)" data-unique="binning_(aka_discretisation)"></div><h1>Binning (a.k.a. Discretisation)</h1>
<p>Sometimes we may need to discretise numeric values as analysis methods require discrete values as a input or output variables (i.e., most versions of Naive Bayes and CHAID analysis). Binning or discretisation methods transform numerical variables into categorical counterparts.<br>
</p>
<p>As mentioned in Module 6 Scan: Outliers, binning is also useful to deal with possible outliers. It controls or mitigates the impact of outliers over the model by placing them to the first or last category.<br>
</p>
<p>There are two possible strategies for binning numerical data. They are equal-width binning and equal-frequency binning.<br>
</p>
<div id="equal-width-distance-binning" class="section level2">
<div name="equal_width_(distance)_binning" data-unique="equal_width_(distance)_binning"></div><h2>Equal width (distance) binning</h2>
<p>In equal-width binning, the variable is divided into <span class="math inline"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-36-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-300" style="width: 0.652em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.49em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.843em, 1000.49em, 2.6em, -999.997em); top: -2.432em; left: 0em;"><span class="mrow" id="MathJax-Span-301"><span class="mi" id="MathJax-Span-302" style="font-family: STIXGeneral-Italic;">n</span></span><span style="display: inline-block; width: 0px; height: 2.438em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.065em; border-left: 0px solid; width: 0px; height: 0.685em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>n</mi></math></span></span><script type="math/tex" id="MathJax-Element-36">n</script></span> intervals of equal size. If <span class="math inline"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-37-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-303" style="width: 2.113em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.68em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.572em, 1001.68em, 2.546em, -999.997em); top: -2.162em; left: 0em;"><span class="mrow" id="MathJax-Span-304"><span class="msubsup" id="MathJax-Span-305"><span style="display: inline-block; position: relative; width: 1.68em; height: 0px;"><span style="position: absolute; clip: rect(3.412em, 1000.44em, 4.386em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-306" style="font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.839em; left: 0.436em;"><span class="texatom" id="MathJax-Span-307"><span class="mrow" id="MathJax-Span-308"><span class="mi" id="MathJax-Span-309" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">m</span><span class="mi" id="MathJax-Span-310" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-311" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.167em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.338em; border-left: 0px solid; width: 0px; height: 0.958em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>y</mi><mrow class="MJX-TeXAtom-ORD"><mi>m</mi><mi>a</mi><mi>x</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-37">y_{max}</script></span> and <span class="math inline"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-38-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-312" style="width: 2.005em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.572em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.572em, 1001.57em, 2.546em, -999.997em); top: -2.162em; left: 0em;"><span class="mrow" id="MathJax-Span-313"><span class="msubsup" id="MathJax-Span-314"><span style="display: inline-block; position: relative; width: 1.572em; height: 0px;"><span style="position: absolute; clip: rect(3.412em, 1000.44em, 4.386em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-315" style="font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.839em; left: 0.436em;"><span class="texatom" id="MathJax-Span-316"><span class="mrow" id="MathJax-Span-317"><span class="mi" id="MathJax-Span-318" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">m</span><span class="mi" id="MathJax-Span-319" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span class="mi" id="MathJax-Span-320" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.167em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.338em; border-left: 0px solid; width: 0px; height: 0.958em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>y</mi><mrow class="MJX-TeXAtom-ORD"><mi>m</mi><mi>i</mi><mi>n</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-38">y_{min}</script></span> are the maximum and the minimum values in the variable, the width of the intervals will be:<br>
</p>
<p><span class="math display"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-39-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mfrac&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/mfrac&gt;&lt;/math&gt;" role="presentation" style="text-align: center; position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-321" style="width: 8.661em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.875em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.031em, 1006.88em, 3.304em, -999.997em); top: -2.432em; left: 0em;"><span class="mrow" id="MathJax-Span-322"><span class="mi" id="MathJax-Span-323" style="font-family: STIXGeneral-Italic;">w</span><span class="mo" id="MathJax-Span-324" style="font-family: STIXGeneral-Regular; padding-left: 0.327em;">=</span><span class="mfrac" id="MathJax-Span-325" style="padding-left: 0.327em;"><span style="display: inline-block; position: relative; width: 4.656em; height: 0px; margin-right: 0.111em; margin-left: 0.111em;"><span style="position: absolute; clip: rect(3.304em, 1004.49em, 4.386em, -999.997em); top: -4.705em; left: 50%; margin-left: -2.27em;"><span class="mrow" id="MathJax-Span-326"><span class="msubsup" id="MathJax-Span-327"><span style="display: inline-block; position: relative; width: 1.68em; height: 0px;"><span style="position: absolute; clip: rect(3.412em, 1000.44em, 4.386em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-328" style="font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.839em; left: 0.436em;"><span class="texatom" id="MathJax-Span-329"><span class="mrow" id="MathJax-Span-330"><span class="mi" id="MathJax-Span-331" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">m</span><span class="mi" id="MathJax-Span-332" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-333" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-334" style="font-family: STIXGeneral-Regular; padding-left: 0.273em;">−</span><span class="msubsup" id="MathJax-Span-335" style="padding-left: 0.273em;"><span style="display: inline-block; position: relative; width: 1.572em; height: 0px;"><span style="position: absolute; clip: rect(3.412em, 1000.44em, 4.386em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-336" style="font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.839em; left: 0.436em;"><span class="texatom" id="MathJax-Span-337"><span class="mrow" id="MathJax-Span-338"><span class="mi" id="MathJax-Span-339" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">m</span><span class="mi" id="MathJax-Span-340" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span class="mi" id="MathJax-Span-341" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.412em, 1000.49em, 4.169em, -999.997em); top: -3.298em; left: 50%; margin-left: -0.268em;"><span class="mi" id="MathJax-Span-342" style="font-family: STIXGeneral-Italic;">n</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(0.869em, 1004.66em, 1.247em, -999.997em); top: -1.296em; left: 0em;"><span style="display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 4.656em; height: 0px;"></span><span style="display: inline-block; width: 0px; height: 1.085em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.438em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.951em; border-left: 0px solid; width: 0px; height: 2.594em;"></span></span></nobr><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>w</mi><mo>=</mo><mfrac><mrow><msub><mi>y</mi><mrow class="MJX-TeXAtom-ORD"><mi>m</mi><mi>a</mi><mi>x</mi></mrow></msub><mo>−</mo><msub><mi>y</mi><mrow class="MJX-TeXAtom-ORD"><mi>m</mi><mi>i</mi><mi>n</mi></mrow></msub></mrow><mi>n</mi></mfrac></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-39"> w = \frac{y_{max} - y_{min}}{n}</script></span></p>
<p>Thus, we need to define the number of intervals <span class="math inline"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-40-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-343" style="width: 0.652em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.49em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.843em, 1000.49em, 2.6em, -999.997em); top: -2.432em; left: 0em;"><span class="mrow" id="MathJax-Span-344"><span class="mi" id="MathJax-Span-345" style="font-family: STIXGeneral-Italic;">n</span></span><span style="display: inline-block; width: 0px; height: 2.438em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.065em; border-left: 0px solid; width: 0px; height: 0.685em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>n</mi></math></span></span><script type="math/tex" id="MathJax-Element-40">n</script></span> prior to binning. However, this is not an easy task for the analysts and constitutes one of the disadvantages of this method.<br>
</p>
<p>In R, we can use the <code>discretize()</code> function under the <code>infotheo</code> package to apply an equal-width binning.<br>
</p>
<pre class="r"><code class="hljs">install.packages(<span class="hljs-string">"infotheo"</span>)
<span class="hljs-keyword">library</span>(infotheo)</code></pre>
<p>To illustrate binning using equal width, let’s revisit the subset of the iris data set.<br>
</p>
<pre class="r"><code class="hljs"><span class="hljs-comment"># load iris data and subset using versicolor flowers, with the first three variables</span>

iris &lt;- read.csv(<span class="hljs-string">"data/iris.csv"</span>)

versicolor &lt;- iris %&gt;%  filter( Species == <span class="hljs-string">"versicolor"</span> ) %&gt;%  dplyr::select(Sepal.Length)

head(versicolor)</code></pre>
<pre><code class="hljs">##   Sepal.Length
## 1          7.0
## 2          6.4
## 3          6.9
## 4          5.5
## 5          6.5
## 6          5.7</code></pre>
<p>Let’s apply equal-width binning to the <code>Sepal.Length</code> variable.<br>
</p>
<pre class="r"><code class="hljs">ew_binned&lt;-discretize(versicolor, disc = <span class="hljs-string">"equalwidth"</span>)
versicolor %&gt;% bind_cols(ew_binned) %&gt;% head(<span class="hljs-number">15</span>)</code></pre>
<pre><code class="hljs">##    Sepal.Length Sepal.Length1
## 1           7.0             3
## 2           6.4             3
## 3           6.9             3
## 4           5.5             1
## 5           6.5             3
## 6           5.7             2
## 7           6.3             3
## 8           4.9             1
## 9           6.6             3
## 10          5.2             1
## 11          5.0             1
## 12          5.9             2
## 13          6.0             2
## 14          6.1             2
## 15          5.6             1</code></pre>
</div>
<div id="equal-depth-frequency-binning" class="section level2">
<div name="equal_depth_(frequency)_binning" data-unique="equal_depth_(frequency)_binning"></div><h2>Equal depth (frequency) binning</h2>
<p>In equal-depth binning method, the variable is divided into <span class="math inline"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-41-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-346" style="width: 0.652em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.49em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.843em, 1000.49em, 2.6em, -999.997em); top: -2.432em; left: 0em;"><span class="mrow" id="MathJax-Span-347"><span class="mi" id="MathJax-Span-348" style="font-family: STIXGeneral-Italic;">n</span></span><span style="display: inline-block; width: 0px; height: 2.438em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.065em; border-left: 0px solid; width: 0px; height: 0.685em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>n</mi></math></span></span><script type="math/tex" id="MathJax-Element-41">n</script></span> intervals, each containing approximately the same number of observations (frequencies).<br>
</p>
<p>In R, we can use the <code>discretize()</code> function with <code>disc = "equalfreq"</code> argument to apply this method.<br>
</p>
<p>To apply equal-depth binning to the <code>Sepal.Length</code> variable.<br>
</p>
<pre class="r"><code class="hljs">ed_binned&lt;-discretize(versicolor, disc = <span class="hljs-string">"equalfreq"</span>)
versicolor %&gt;% bind_cols(ed_binned) %&gt;% head(<span class="hljs-number">15</span>)</code></pre>
<pre><code class="hljs">##    Sepal.Length Sepal.Length1
## 1           7.0             3
## 2           6.4             3
## 3           6.9             3
## 4           5.5             1
## 5           6.5             3
## 6           5.7             1
## 7           6.3             3
## 8           4.9             1
## 9           6.6             3
## 10          5.2             1
## 11          5.0             1
## 12          5.9             2
## 13          6.0             2
## 14          6.1             2
## 15          5.6             1</code></pre>
</div>
</div>
<div id="data-dimension-reduction" class="section level1">
<div name="data_(dimension)_reduction" data-unique="data_(dimension)_reduction"></div><h1>Data (dimension) reduction</h1>
<p>For large data sets, a common problem called the “curse of dimensionality” occurs as these data sets have huge number of variables (a.k.a. features/dimensions). This high dimensionality will increase the computational complexity and increase the risk of overfitting. Many statistical analysis techniques, such as machine learning algorithms and regression techniques, are sensitive to the number of dimensions in the model. Good news is there are ways of addressing the curse of high-dimensionality.<br>
</p>
<p>Mainly, there are two ways of dimension reduction; feature selection and feature extraction. In the next sections brief information on each method will be given along with applications in R.<br>
</p>
</div>
<div id="a-quick-look-to-the-mlr-package" class="section level1">
<div name="a_quick_look_to_the_mlr_package" data-unique="a_quick_look_to_the_mlr_package"></div><h1>A quick look to the <code>mlr</code> package</h1>
<p>There are many powerful packages that can be used in dimension reduction. Most of them are essentially used for machine learning tasks and they also provide specific functions for feature selection and extraction.<br>
</p>
<p>In this course I will introduce you the <code>mlr</code> package. This is an <strong>all-in-one package</strong> that offers most of the data preprocessing tasks (i.e.&nbsp;missing values imputation, normalising, centering, standardising, transforming, feature extraction and selection) required in machine learning analysis. Please note that machine learning (ML) methods will be covered in details in MATH2319 Machine Learning course and <strong>YOU DO NOT required to know any of the details of ML techniques for our course</strong>. We will only focus on implementing feature extraction and feature selection methods for a given ML algorithm using the <code>mlr</code> package functions.<br>
</p>
<p>To start with the main features of the <code>mlr</code> package, I will use a simple example of regression analysis on the iris data set. First, we need to install and load the <code>mlr</code> package:<br>
</p>
<pre class="r"><code class="hljs">install.packages(<span class="hljs-string">"mlr"</span>)
<span class="hljs-keyword">library</span>(mlr)</code></pre>
<p>The entire structure of <code>mlr</code> package relies on the following steps:<br>
</p>
<ol style="list-style-type: decimal">
<li>Create a task -&gt; 2. Create a learner -&gt; 3. Fit a model -&gt; 4. Make predictions -&gt; 5. Evaluate the learner<br>
</li>
</ol>
<div id="create-a-task" class="section level2">
<div name="1_create_a_task" data-unique="1_create_a_task"></div><h2>1. Create a task</h2>
<p>Creating a task means specifying the type of analysis and providing the data and response variable. The <code>makeClassifTask()</code> function will define the task as a classification, similarly <code>makeRegrTask()</code> will specify the task as a regression analysis. Note that the full list of available tasks for this step can be found in the <code>mlr</code> package tutorial <a href="https://mlr-org.github.io/mlr-tutorial/release/html/task/index.html" class="uri">https://mlr-org.github.io/mlr-tutorial/release/html/task/index.html</a>)<br>
</p>
<p>Let’s illustrate this step using the iris data set. Assume that we would like to predict the <code>Sepal.Length</code> using other variables. Then we can specify the task and the data as follows:<br>
</p>
<pre class="r"><code class="hljs"><span class="hljs-comment">## 1) Define the task</span>
<span class="hljs-comment">## Specify the type of analysis (e.g. regression) and provide data and response variable</span>

iris.task = makeRegrTask(data = iris, target = <span class="hljs-string">"Sepal.Length"</span>)</code></pre>
</div>
<div id="create-a-learner" class="section level2">
<div name="2_create_a_learner" data-unique="2_create_a_learner"></div><h2>2. Create a learner</h2>
<p>Creating a learner means choosing a specific algorithm (learner) which learns from task (or data). With <code>makeLearner()</code> function we can easily specify the learner.<br>
</p>
<p>Let’s specify the learner algorithm as the generalised linear model (a.k.a classical regression) using:<br>
</p>
<pre class="r"><code class="hljs"><span class="hljs-comment">## 2) Define the learner</span>
<span class="hljs-comment">## Choose a specific algorithm (e.g. generalised linear model - classical regression)</span>
lrn = makeLearner(<span class="hljs-string">"regr.glm"</span>)</code></pre>
<p>Note that the full list for available learners can be found in <a href="https://mlr-org.github.io/mlr-tutorial/release/html/learner/index.html" class="uri">https://mlr-org.github.io/mlr-tutorial/release/html/learner/index.html</a><br>
</p>
</div>
<div id="fit-the-model" class="section level2">
<div name="3_fit_the_model" data-unique="3_fit_the_model"></div><h2>3. Fit the model</h2>
<p>Fitting the model means use a random subset of data (i.e.&nbsp;training set) to develop/fit a model. The <code>train()</code> function will define the model in the train set.<br>
</p>
<p>First, we need to divide the data set into train and test sets. We can use <code>sample()</code> from Base R and <code>setdiff()</code> from dplyr package:<br>
</p>
<pre class="r"><code class="hljs"><span class="hljs-comment"># Divide the data set into train and test sets:</span>

n = nrow(iris)
train.set = sample(n, size = <span class="hljs-number">2</span>/<span class="hljs-number">3</span>*n)
test.set = setdiff(<span class="hljs-number">1</span>:n, train.set)

<span class="hljs-comment">## 3) Fit the model</span>
<span class="hljs-comment">## Train the learner on the task using a random subset of the data as training set</span>

model = mlr::train(lrn, iris.task, subset = train.set)</code></pre>
</div>
<div id="make-predictions" class="section level2">
<div name="4_make_predictions" data-unique="4_make_predictions"></div><h2>4. Make predictions</h2>
<p>Making predictions means applying the model in the test set and predicting the response for new observations. The <code>predict()</code> function will predict the response variable for the new observations.<br>
</p>
<pre class="r"><code class="hljs"><span class="hljs-comment">## 4) Make predictions</span>

<span class="hljs-comment">## Predict values of the response variable for new observations by the trained model using the other part of the data as test set</span>

pred = predict(model, task = iris.task, subset = test.set)</code></pre>
</div>
<div id="evaluate-the-learner" class="section level2">
<div name="5_evaluate_the_learner" data-unique="5_evaluate_the_learner"></div><h2>5. Evaluate the learner</h2>
<p>This step includes the calculation of performance metrics (e.g.&nbsp;mean misclassification error and accuracy) for learners. The <code>performance()</code> function will easily define the evaluation metrics.<br>
</p>
<pre class="r"><code class="hljs"><span class="hljs-comment">## 5) Evaluate the learner</span>
<span class="hljs-comment">## Calculate the mean squared error and mean absolute error</span>
performance(pred, measures = list(mse, mae))</code></pre>
<pre><code class="hljs">##       mse       mae 
## 0.1007054 0.2718763</code></pre>
<p>So far, I’ve introduced the main workflow of <code>mlr</code> package in a general sense. In the next sections we will see the details of how to use these functions for feature selection and feature extraction.<br>
</p>
</div>
</div>
<div id="feature-selection" class="section level1">
<div name="feature_selection" data-unique="feature_selection"></div><h1>Feature selection</h1>
<p>In feature selection, we try to find a subset of the original set of variables, or features which are best representatives of the data. There are different strategies to select features depending on the problem that you are dealing with. The most basic ones are given in the following subsections.<br>
</p>
<div id="feature-filtering" class="section level2">
<div name="feature_filtering" data-unique="feature_filtering"></div><h2>Feature filtering</h2>
<p>In feature filtering, redundant features are filtered out and the ones that are most useful or most relevant for the problem are selected. Feature filtering methods include removing features with zero and near zero-variance and removing highly correlated variables (i.e., greater than 0.8).<br>
</p>
<p>To illustrate feature filtering, we will continue with the <code>iris.task</code> (given above). In the <code>iris</code> data frame, we have 5 features (one of them <code>Sepal.Length</code> is defined as response/target variable).<br>
</p>
<pre class="r"><code class="hljs">iris.task</code></pre>
<pre><code class="hljs">## Supervised task: iris
## Type: regr
## Target: Sepal.Length
## Observations: 150
## Features:
##    numerics     factors     ordered functionals 
##           4           1           0           0 
## Missings: FALSE
## Has weights: FALSE
## Has blocking: FALSE
## Has coordinates: FALSE</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment"># Print the feature names in the task</span>

getTaskFeatureNames(iris.task)</code></pre>
<pre><code class="hljs">## [1] "X"            "Sepal.Width"  "Petal.Length" "Petal.Width" 
## [5] "Species"</code></pre>
<p>To drop specific features, let’s say <code>Species</code>, we can use <code>dropFeatures(task, features)</code> function.<br>
</p>
<pre class="r"><code class="hljs"><span class="hljs-comment"># Drop the Species and write it into the iris.task1</span>

iris.task1 &lt;-dropFeatures(iris.task, features = <span class="hljs-string">"Species"</span>)
iris.task1</code></pre>
<pre><code class="hljs">## Supervised task: iris
## Type: regr
## Target: Sepal.Length
## Observations: 150
## Features:
##    numerics     factors     ordered functionals 
##           4           0           0           0 
## Missings: FALSE
## Has weights: FALSE
## Has blocking: FALSE
## Has coordinates: FALSE</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment"># Print the feature names</span>

getTaskFeatureNames(iris.task1)</code></pre>
<pre><code class="hljs">## [1] "X"            "Sepal.Width"  "Petal.Length" "Petal.Width"</code></pre>
<p>To remove/keep the features using a specific rule (i.e., remove/keep features with zero or near zero variance, remove/keep highly correlated features, etc) we can use the <code>filterFeatures</code> function. This function again requires the task and a character string specifying the filter method. The generic usage of the <code>filterFeatures</code> is:<br>
</p>
<pre class="r"><code class="hljs">filterFeatures(task, method, perc, abs, threshold)</code></pre>
<p>To remove features with zero variance we can use:<br>
</p>
<pre class="r"><code class="hljs"><span class="hljs-comment">## Filter all features with zero variance </span>
filtered.task1 = filterFeatures(iris.task1, method = <span class="hljs-string">"variance"</span>, threshold = <span class="hljs-number">0</span>)

filtered.task1</code></pre>
<pre><code class="hljs">## Supervised task: iris
## Type: regr
## Target: Sepal.Length
## Observations: 150
## Features:
##    numerics     factors     ordered functionals 
##           4           0           0           0 
## Missings: FALSE
## Has weights: FALSE
## Has blocking: FALSE
## Has coordinates: FALSE</code></pre>
<pre class="r"><code class="hljs">getTaskFeatureNames(filtered.task1)</code></pre>
<pre><code class="hljs">## [1] "X"            "Sepal.Width"  "Petal.Length" "Petal.Width"</code></pre>
<p>As seen from the output, no features have zero variance, that’s why the <code>filterFeatures</code> function kept all features.<br>
</p>
<p>Let’s say in order to keep features with high correlation (with the target variable) we can use:<br>
</p>
<pre class="r"><code class="hljs"><span class="hljs-comment">## Filter all features with high correlation (i.e r&gt;0.7)</span>
filtered.task2 = filterFeatures(iris.task1, method = <span class="hljs-string">"linear.correlation"</span>, threshold = <span class="hljs-number">0.7</span>)

filtered.task2</code></pre>
<pre><code class="hljs">## Supervised task: iris
## Type: regr
## Target: Sepal.Length
## Observations: 150
## Features:
##    numerics     factors     ordered functionals 
##           3           0           0           0 
## Missings: FALSE
## Has weights: FALSE
## Has blocking: FALSE
## Has coordinates: FALSE</code></pre>
<pre class="r"><code class="hljs">getTaskFeatureNames(filtered.task2)</code></pre>
<pre><code class="hljs">## [1] "X"            "Petal.Length" "Petal.Width"</code></pre>
<p>As seen from the output, only two features were retained after the filtering. We can check manually which features have high correlation with the target variable (Sepal.Length) using bivariate correlations.<br>
</p>
<pre class="r"><code class="hljs"><span class="hljs-comment"># Check correlations in the data</span>

cor(iris$Sepal.Length, iris$Sepal.Width)</code></pre>
<pre><code class="hljs">## [1] -0.1175698</code></pre>
<pre class="r"><code class="hljs">cor(iris$Sepal.Length, iris$Petal.Length)</code></pre>
<pre><code class="hljs">## [1] 0.8717538</code></pre>
<pre class="r"><code class="hljs">cor(iris$Sepal.Length, iris$Petal.Width)</code></pre>
<pre><code class="hljs">## [1] 0.8179411</code></pre>
<p>The correlations indicate that the correlation between <code>Sepal.Length</code> and <code>Petal.Length</code> is <span class="math inline"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-42-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;0.87&lt;/mn&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-349" style="width: 4.386em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.466em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.626em, 1003.41em, 2.6em, -999.997em); top: -2.432em; left: 0em;"><span class="mrow" id="MathJax-Span-350"><span class="mi" id="MathJax-Span-351" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-352" style="font-family: STIXGeneral-Regular; padding-left: 0.327em;">=</span><span class="mn" id="MathJax-Span-353" style="font-family: STIXGeneral-Regular; padding-left: 0.327em;">0.87</span></span><span style="display: inline-block; width: 0px; height: 2.438em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.065em; border-left: 0px solid; width: 0px; height: 1.026em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>r</mi><mo>=</mo><mn>0.87</mn></math></span></span><script type="math/tex" id="MathJax-Element-42">r=0.87</script></span> and the correlation between <code>Sepal.Length</code> and <code>Petal.Width</code> is <span class="math inline"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-43-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;0.82&lt;/mn&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-354" style="width: 4.386em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.466em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.626em, 1003.47em, 2.6em, -999.997em); top: -2.432em; left: 0em;"><span class="mrow" id="MathJax-Span-355"><span class="mi" id="MathJax-Span-356" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-357" style="font-family: STIXGeneral-Regular; padding-left: 0.327em;">=</span><span class="mn" id="MathJax-Span-358" style="font-family: STIXGeneral-Regular; padding-left: 0.327em;">0.82</span></span><span style="display: inline-block; width: 0px; height: 2.438em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.065em; border-left: 0px solid; width: 0px; height: 1.026em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>r</mi><mo>=</mo><mn>0.82</mn></math></span></span><script type="math/tex" id="MathJax-Element-43">r=0.82</script></span>. Therefore, <code>Sepal.Length</code> and <code>Petal.Width</code> were being the filtered features. The full capabilities of this function can also be found in <a href="https://www.rdocumentation.org/packages/mlr/versions/2.12.1/topics/filterFeatures" class="uri">https://www.rdocumentation.org/packages/mlr/versions/2.12.1/topics/filterFeatures</a>.<br>
</p>
</div>
<div id="feature-ranking" class="section level2">
<div name="feature_ranking" data-unique="feature_ranking"></div><h2>Feature ranking</h2>
<p>This method includes ranking features according to an importance criteria and selecting those which are above a defined threshold. This technique is also called feature ranking. In this technique features are ranked according to a statistical criteria (i.e., chi-square test, correlation test, entropy based tests, random forest, etc.) and either selected to be kept or removed from the data set.<br>
</p>
<p>To remove/keep the features using an importance criteria, we can again use the <code>filterFeatures</code> function. The example below uses the chi square test importance as a ranking method and selects the two most important ones using <code>abs=2</code> argument.<br>
</p>
<pre class="r"><code class="hljs"><span class="hljs-comment">## Rank all features using chi square test importance and select the two most important ones</span>

filtered.task3 = filterFeatures(iris.task1, method = <span class="hljs-string">"chi.squared"</span>, abs = <span class="hljs-number">2</span>)

filtered.task3</code></pre>
<pre><code class="hljs">## Supervised task: iris
## Type: regr
## Target: Sepal.Length
## Observations: 150
## Features:
##    numerics     factors     ordered functionals 
##           2           0           0           0 
## Missings: FALSE
## Has weights: FALSE
## Has blocking: FALSE
## Has coordinates: FALSE</code></pre>
<pre class="r"><code class="hljs">getTaskFeatureNames(filtered.task3)</code></pre>
<pre><code class="hljs">## [1] "Petal.Length" "Petal.Width"</code></pre>
<p>The output suggest that <code>Petal.Length</code> and <code>Petal.Width</code> are the two most important features according to the chi-square criteria, therefore they are retained.<br>
</p>
<p>Here is another example on ranking features according to the correlation test method and selecting the most important one:</p>
<pre class="r"><code class="hljs"><span class="hljs-comment">## Rank all features using correlation test importance and select the most important one</span>

filtered.task4 = filterFeatures(iris.task1, method = <span class="hljs-string">"linear.correlation"</span>, abs = <span class="hljs-number">1</span>)

filtered.task4</code></pre>
<pre><code class="hljs">## Supervised task: iris
## Type: regr
## Target: Sepal.Length
## Observations: 150
## Features:
##    numerics     factors     ordered functionals 
##           1           0           0           0 
## Missings: FALSE
## Has weights: FALSE
## Has blocking: FALSE
## Has coordinates: FALSE</code></pre>
<pre class="r"><code class="hljs">getTaskFeatureNames(filtered.task4)</code></pre>
<pre><code class="hljs">## [1] "Petal.Length"</code></pre>
<p>The output suggest that the <code>Petal.Length</code> is the most important feature according to the correlation criteria. Note that these methods will also be covered in details in MATH2319 Machine Learning course. The complete list of filtering and ranking methods (according to the task type) available in the <code>mlr</code> package is given below:<br>
</p>
<pre><code class="hljs">##                            id         package
## 1                  anova.test                
## 2                         auc                
## 3                    carscore            care
## 4          cforest.importance           party
## 5                 chi.squared       FSelector
## 6                  gain.ratio       FSelector
## 7            information.gain       FSelector
## 8                kruskal.test                
## 9          linear.correlation                
## 10                       mrmr           mRMRe
## 11                       oneR       FSelector
## 12     permutation.importance                
## 13    randomForest.importance    randomForest
## 14      randomForestSRC.rfsrc randomForestSRC
## 15 randomForestSRC.var.select randomForestSRC
## 16            ranger.impurity          ranger
## 17         ranger.permutation          ranger
## 18           rank.correlation                
## 19                     relief       FSelector
## 20    symmetrical.uncertainty       FSelector
## 21     univariate.model.score                
## 22                   variance                
##                                        desc task.classif task.regr
## 1  ANOVA Test for binary and multiclass ...         TRUE     FALSE
## 2  AUC filter for binary classification ...         TRUE     FALSE
## 3                                CAR scores        FALSE      TRUE
## 4  Permutation importance of random fore...         TRUE      TRUE
## 5  Chi-squared statistic of independence...         TRUE      TRUE
## 6  Entropy-based gain ratio between feat...         TRUE      TRUE
## 7  Entropy-based information gain betwee...         TRUE      TRUE
## 8  Kruskal Test for binary and multiclas...         TRUE     FALSE
## 9  Pearson correlation between feature a...        FALSE      TRUE
## 10 Minimum redundancy, maximum relevance...        FALSE      TRUE
## 11                    oneR association rule         TRUE      TRUE
## 12 Aggregated difference between feature...         TRUE      TRUE
## 13 Importance based on OOB-accuracy or n...         TRUE      TRUE
## 14 Importance of random forests fitted i...         TRUE      TRUE
## 15 Minimal depth of / variable hunting v...         TRUE      TRUE
## 16 Variable importance based on ranger i...         TRUE      TRUE
## 17 Variable importance based on ranger p...         TRUE      TRUE
## 18 Spearman's correlation between featur...        FALSE      TRUE
## 19                         RELIEF algorithm         TRUE      TRUE
## 20 Entropy-based symmetrical uncertainty...         TRUE      TRUE
## 21 Resamples an mlr learner for each inp...         TRUE      TRUE
## 22                 A simple variance filter         TRUE      TRUE
##    task.surv
## 1      FALSE
## 2      FALSE
## 3      FALSE
## 4       TRUE
## 5      FALSE
## 6      FALSE
## 7      FALSE
## 8      FALSE
## 9      FALSE
## 10      TRUE
## 11     FALSE
## 12      TRUE
## 13     FALSE
## 14      TRUE
## 15      TRUE
## 16     FALSE
## 17      TRUE
## 18     FALSE
## 19     FALSE
## 20     FALSE
## 21      TRUE
## 22      TRUE</code></pre>
</div>
</div>
<div id="feature-extraction" class="section level1">
<div name="feature_extraction" data-unique="feature_extraction"></div><h1>Feature extraction</h1>
<p>Feature extraction reduces the data in a high dimensional space to a lower dimension space, i.e.&nbsp;a space with lesser number of dimensions. Note that feature extraction is different from feature selection. Both methods seek to reduce the number of attributes in the data set, but feature extraction methods do so by creating new combinations of attributes, where as feature selection methods include and exclude attributes present in the data without changing them.<br>
</p>
<p>One of the most commonly used approach to extract features is the principal component analysis (PCA). In the next section, we will see the details of this analysis and applications using R.<br>
</p>
<div id="principal-component-analysis-pca" class="section level2">
<div name="principal_component_analysis_(pca)" data-unique="principal_component_analysis_(pca)"></div><h2>Principal Component Analysis (PCA)</h2>
<p>This method is an unsupervised algorithm that creates linear combinations of the original features. The new extracted features are orthogonal, which means that they are uncorrelated. The extracted components are ranked in order of their “<strong>explained variance</strong>”. For example, the first principal component (PC1) explains the most variance in the data, PC2 explains the second-most variance, and so on. Then you can decide to keep only as many principal components as needed to reach a cumulative explained variance of 90%. Note that the advantage of this technique is fast and simple to implement, and works well in practice. However the new principal components are not interpretable, because they are linear combinations of original features.&nbsp;</p>
<p>In R, we can apply principal component analysis using many different packages (like <code>prcomp()</code>, <code>caret</code>, etc). Essentially, the <code>mlr</code> package that we used for feature ranking and selection, uses <code>caret</code> package and functions behind to apply feature extraction.<br>
</p>
<p>We will use the <code>caret</code> package to demonstrate the data extraction as it has a straightforward usage. Please note that any <code>caret</code> functions can also be converted into the <code>mlr</code> functions. For more information on this conversion, you can refer to the <code>mlr</code> package manual.<br>
</p>
<p>In the <code>caret</code> package you simply apply PCA analysis using <code>preProcess()</code> function as follows:</p>
<pre class="r"><code class="hljs"><span class="hljs-keyword">library</span>(caret)</code></pre>
<p>I will use another example called sonar signals data task which is already available under the <code>mlbench</code> package to further illustrate feature extraction.<br>
</p>
<pre class="r"><code class="hljs"><span class="hljs-keyword">library</span>(mlbench) <span class="hljs-comment"># to load the sonar data</span></code></pre>
<p>Note that this data has 208 observations and 60 features. Let’s take a look at the header of the sonar <a href="data:\" class="uri">data:\</a></p>
<pre class="r"><code class="hljs">data(Sonar)

head(Sonar)</code></pre>
<pre><code class="hljs">##       V1     V2     V3     V4     V5     V6     V7     V8     V9    V10
## 1 0.0200 0.0371 0.0428 0.0207 0.0954 0.0986 0.1539 0.1601 0.3109 0.2111
## 2 0.0453 0.0523 0.0843 0.0689 0.1183 0.2583 0.2156 0.3481 0.3337 0.2872
## 3 0.0262 0.0582 0.1099 0.1083 0.0974 0.2280 0.2431 0.3771 0.5598 0.6194
## 4 0.0100 0.0171 0.0623 0.0205 0.0205 0.0368 0.1098 0.1276 0.0598 0.1264
## 5 0.0762 0.0666 0.0481 0.0394 0.0590 0.0649 0.1209 0.2467 0.3564 0.4459
## 6 0.0286 0.0453 0.0277 0.0174 0.0384 0.0990 0.1201 0.1833 0.2105 0.3039
##      V11    V12    V13    V14    V15    V16    V17    V18    V19    V20
## 1 0.1609 0.1582 0.2238 0.0645 0.0660 0.2273 0.3100 0.2999 0.5078 0.4797
## 2 0.4918 0.6552 0.6919 0.7797 0.7464 0.9444 1.0000 0.8874 0.8024 0.7818
## 3 0.6333 0.7060 0.5544 0.5320 0.6479 0.6931 0.6759 0.7551 0.8929 0.8619
## 4 0.0881 0.1992 0.0184 0.2261 0.1729 0.2131 0.0693 0.2281 0.4060 0.3973
## 5 0.4152 0.3952 0.4256 0.4135 0.4528 0.5326 0.7306 0.6193 0.2032 0.4636
## 6 0.2988 0.4250 0.6343 0.8198 1.0000 0.9988 0.9508 0.9025 0.7234 0.5122
##      V21    V22    V23    V24    V25    V26    V27    V28    V29    V30
## 1 0.5783 0.5071 0.4328 0.5550 0.6711 0.6415 0.7104 0.8080 0.6791 0.3857
## 2 0.5212 0.4052 0.3957 0.3914 0.3250 0.3200 0.3271 0.2767 0.4423 0.2028
## 3 0.7974 0.6737 0.4293 0.3648 0.5331 0.2413 0.5070 0.8533 0.6036 0.8514
## 4 0.2741 0.3690 0.5556 0.4846 0.3140 0.5334 0.5256 0.2520 0.2090 0.3559
## 5 0.4148 0.4292 0.5730 0.5399 0.3161 0.2285 0.6995 1.0000 0.7262 0.4724
## 6 0.2074 0.3985 0.5890 0.2872 0.2043 0.5782 0.5389 0.3750 0.3411 0.5067
##      V31    V32    V33    V34    V35    V36    V37    V38    V39    V40
## 1 0.1307 0.2604 0.5121 0.7547 0.8537 0.8507 0.6692 0.6097 0.4943 0.2744
## 2 0.3788 0.2947 0.1984 0.2341 0.1306 0.4182 0.3835 0.1057 0.1840 0.1970
## 3 0.8512 0.5045 0.1862 0.2709 0.4232 0.3043 0.6116 0.6756 0.5375 0.4719
## 4 0.6260 0.7340 0.6120 0.3497 0.3953 0.3012 0.5408 0.8814 0.9857 0.9167
## 5 0.5103 0.5459 0.2881 0.0981 0.1951 0.4181 0.4604 0.3217 0.2828 0.2430
## 6 0.5580 0.4778 0.3299 0.2198 0.1407 0.2856 0.3807 0.4158 0.4054 0.3296
##      V41    V42    V43    V44    V45    V46    V47    V48    V49    V50
## 1 0.0510 0.2834 0.2825 0.4256 0.2641 0.1386 0.1051 0.1343 0.0383 0.0324
## 2 0.1674 0.0583 0.1401 0.1628 0.0621 0.0203 0.0530 0.0742 0.0409 0.0061
## 3 0.4647 0.2587 0.2129 0.2222 0.2111 0.0176 0.1348 0.0744 0.0130 0.0106
## 4 0.6121 0.5006 0.3210 0.3202 0.4295 0.3654 0.2655 0.1576 0.0681 0.0294
## 5 0.1979 0.2444 0.1847 0.0841 0.0692 0.0528 0.0357 0.0085 0.0230 0.0046
## 6 0.2707 0.2650 0.0723 0.1238 0.1192 0.1089 0.0623 0.0494 0.0264 0.0081
##      V51    V52    V53    V54    V55    V56    V57    V58    V59    V60
## 1 0.0232 0.0027 0.0065 0.0159 0.0072 0.0167 0.0180 0.0084 0.0090 0.0032
## 2 0.0125 0.0084 0.0089 0.0048 0.0094 0.0191 0.0140 0.0049 0.0052 0.0044
## 3 0.0033 0.0232 0.0166 0.0095 0.0180 0.0244 0.0316 0.0164 0.0095 0.0078
## 4 0.0241 0.0121 0.0036 0.0150 0.0085 0.0073 0.0050 0.0044 0.0040 0.0117
## 5 0.0156 0.0031 0.0054 0.0105 0.0110 0.0015 0.0072 0.0048 0.0107 0.0094
## 6 0.0104 0.0045 0.0014 0.0038 0.0013 0.0089 0.0057 0.0027 0.0051 0.0062
##   Class
## 1     R
## 2     R
## 3     R
## 4     R
## 5     R
## 6     R</code></pre>
<p>In this example, I will apply a PCA analysis and keep only as many principal components as needed to reach a cumulative explained variance of 90% by specifying <code>thresh = 0.90</code> argument.</p>
<pre class="r"><code class="hljs">pca1 &lt;- preProcess(Sonar, method = <span class="hljs-string">"pca"</span>, thresh = <span class="hljs-number">0.90</span>)

pca1</code></pre>
<pre><code class="hljs">## Created from 208 samples and 61 variables
## 
## Pre-processing:
##   - centered (60)
##   - ignored (1)
##   - principal component signal extraction (60)
##   - scaled (60)
## 
## PCA needed 22 components to capture 90 percent of the variance</code></pre>
<p>According to the summary output, the PCA extracted 22 components to reach a cumulative explained variance of 90%. Note that the variables were centered and scaled in default for this analysis. We can inspect the extracted components using <code>pca1$rotation</code>.<br>
</p>
<pre class="r"><code class="hljs">head(pca1$rotation)</code></pre>
<pre><code class="hljs">##           PC1        PC2          PC3         PC4        PC5        PC6
## V1 0.13637827 -0.1223047  0.015992208 -0.01398332 0.13559873 -0.1102138
## V2 0.14605308 -0.1310784  0.016703474 -0.06095574 0.16977542 -0.1432289
## V3 0.11572088 -0.1424144  0.008359428 -0.11166025 0.18842191 -0.2173942
## V4 0.09390192 -0.1544207 -0.023779899 -0.10136333 0.17819174 -0.2512730
## V5 0.05534548 -0.1604564  0.025419982 -0.07332698 0.07256160 -0.2126554
## V6 0.05175506 -0.1458544  0.068286250  0.10835565 0.06708443 -0.1715077
##            PC7         PC8         PC9        PC10         PC11
## V1  0.06587748 -0.03328692 0.037186619 -0.25134519  0.097850678
## V2  0.05676022 -0.11883210 0.091322333 -0.23737187  0.121550063
## V3  0.02440144 -0.21242355 0.021327006 -0.15446882  0.089056158
## V4  0.01098851 -0.18558617 0.001593686 -0.17478173 -0.008240723
## V5 -0.10501142 -0.25891923 0.030974131 -0.12111680 -0.077089767
## V6 -0.23261559 -0.14769658 0.175673115  0.04487812 -0.254604172
##           PC12         PC13         PC14        PC15        PC16
## V1 -0.24260274  0.005952877 -0.164560269  0.03655007 -0.17522136
## V2 -0.18752348  0.037133404 -0.009202382  0.16264602 -0.12151447
## V3 -0.19831618 -0.094157030  0.089266763  0.05240022  0.08930538
## V4 -0.02783503 -0.179494903  0.088033831 -0.03178224  0.10546228
## V5  0.22377684 -0.263286223  0.150051748 -0.09714955 -0.13689196
## V6  0.32464660  0.005002015  0.018717413  0.03693093 -0.21681823
##           PC17        PC18         PC19         PC20        PC21
## V1  0.25687921 -0.10407706  0.331965391 -0.034181265 -0.07401342
## V2  0.21693382 -0.02226816  0.042911886  0.042456268 -0.13738490
## V3  0.05841650  0.09402403 -0.175998680 -0.007611349 -0.05533080
## V4 -0.11760130  0.08075530 -0.089819019  0.092698570  0.20131836
## V5 -0.19561809  0.06066290 -0.013490921  0.109094193  0.22218307
## V6 -0.05577494  0.07362170 -0.001379493 -0.075714035 -0.15151985
##           PC22
## V1 -0.09951057
## V2 -0.06477669
## V3 -0.05188087
## V4  0.07823582
## V5 -0.01440086
## V6 -0.13217653</code></pre>
<p>As seen in the output, the PCA analysis extracted 22 so-called components. These components are uncorrelated (orthogonal to each other) and they have no specific interpretation. However, the advantage is extracting and using 22 new components instead of 60 (original features in the sonar data) would definitely help us with the “curse of dimensionality” problem.</p>
<p>When we have a prior knowledge on the number of dimensions we can also set the specific number of PCA components to keep using the <code>pcaComp</code> argument.</p>
<pre class="r"><code class="hljs">pca2 &lt;- preProcess(Sonar, method = <span class="hljs-string">"pca"</span>, pcaComp = <span class="hljs-number">3</span>)

pca2</code></pre>
<pre><code class="hljs">## Created from 208 samples and 61 variables
## 
## Pre-processing:
##   - centered (60)
##   - ignored (1)
##   - principal component signal extraction (60)
##   - scaled (60)
## 
## PCA used 3 components as specified</code></pre>
<p>In this example, I applied a PCA analysis with 3 components by specifying <code>pcaComp = 3</code> argument. We can further inspect the extracted components using <code>pca2$rotation</code>.<br>
</p>
<pre class="r"><code class="hljs">pca2$rotation</code></pre>
<pre><code class="hljs">##              PC1          PC2          PC3
## V1   0.136378273 -0.122304688  0.015992208
## V2   0.146053080 -0.131078408  0.016703474
## V3   0.115720878 -0.142414435  0.008359428
## V4   0.093901919 -0.154420728 -0.023779899
## V5   0.055345485 -0.160456428  0.025419982
## V6   0.051755057 -0.145854449  0.068286250
## V7   0.062775610 -0.140891454  0.074614661
## V8   0.105054791 -0.134863768  0.079735581
## V9   0.098197274 -0.119155949  0.101057756
## V10  0.087921207 -0.124444064  0.114638424
## V11  0.057375857 -0.157682950  0.147757860
## V12  0.030813905 -0.135537002  0.136074294
## V13  0.020969659 -0.184297302  0.128481313
## V14  0.005652117 -0.231772023  0.054958097
## V15 -0.004990611 -0.237948698 -0.011431980
## V16 -0.016056791 -0.238450888 -0.044277247
## V17 -0.051234729 -0.222494179 -0.056807261
## V18 -0.083791662 -0.213388066 -0.080813285
## V19 -0.081184281 -0.216616457 -0.044392022
## V20 -0.062915260 -0.209771922 -0.026074932
## V21 -0.078740257 -0.187687956  0.015968283
## V22 -0.129462677 -0.135829504  0.099660597
## V23 -0.148562415 -0.066017595  0.136056233
## V24 -0.153926815 -0.009777176  0.170925676
## V25 -0.157453398  0.040652190  0.205383077
## V26 -0.146949892  0.082056910  0.226717362
## V27 -0.124882420  0.112139679  0.239775863
## V28 -0.049328849  0.155239754  0.233097760
## V29 -0.010665698  0.184510827  0.179959425
## V30  0.065818390  0.175836616  0.114940670
## V31  0.091115681  0.169186361  0.092560311
## V32  0.111811541  0.157449080  0.043486178
## V33  0.126459063  0.158206935 -0.080488798
## V34  0.143923355  0.124475481 -0.178375368
## V35  0.153260435  0.097467158 -0.214919829
## V36  0.152803748  0.086956751 -0.216069266
## V37  0.149774729  0.062682339 -0.204157446
## V38  0.185056839  0.041297372 -0.172220813
## V39  0.188787349  0.025641186 -0.112743470
## V40  0.179847963  0.036702231 -0.096129734
## V41  0.201924499  0.044193536 -0.027451916
## V42  0.198203989  0.040442163  0.072415268
## V43  0.184618686  0.056311358  0.142594404
## V44  0.170194631  0.054520494  0.163327534
## V45  0.200815274  0.028724431  0.191981350
## V46  0.199261298  0.034322885  0.196152753
## V47  0.177099699  0.029529461  0.226575253
## V48  0.184090972  0.009544262  0.215221572
## V49  0.175503993 -0.012209874  0.207469384
## V50  0.158819355 -0.019105674  0.127570395
## V51  0.145283851 -0.054479908  0.167847245
## V52  0.139679711 -0.068751303  0.106799738
## V53  0.123721695 -0.068411996 -0.006644230
## V54  0.115164579 -0.107073180 -0.023156403
## V55  0.127573257 -0.109155326 -0.032838063
## V56  0.113651055 -0.097333904 -0.032792805
## V57  0.112250706 -0.086072801 -0.045159077
## V58  0.134271001 -0.110317668 -0.017004846
## V59  0.143756315 -0.090282629 -0.072818633
## V60  0.117841717 -0.075271297 -0.069013391</code></pre>
<p>The base R function <code>prcomp()</code> is solely used for principal component analysis. By default, this function centers the variable to have mean equals to zero. With parameter <code>scale. = T</code>, variables are normalised to have standard deviation of 1.<br>
</p>
<p>Let’s apply the the same example (sonar signals data) to illustrate the <code>prcomp()</code> function.</p>
<pre class="r"><code class="hljs">pca3 &lt;- prcomp(Sonar, scale. = <span class="hljs-literal">T</span>)

<span class="hljs-comment"># Error in colMeans(x, na.rm = TRUE) : 'x' must be numeric</span></code></pre>
<p>We got the error <code>Error in colMeans(x, na.rm = TRUE) : 'x' must be numeric</code> because Sonar data includes one factor variable called <code>Class</code> and PCA does not work on categorical variables. One of the differences between <code>prcomp()</code> and <code>preProcess()</code> function is the latter can automatically scan the variable types and ignores the categorical variable, where else for the <code>prcomp()</code> we need to manually filter out this factor variable before conducting the analysis.&nbsp;</p>
<pre class="r"><code class="hljs"><span class="hljs-comment"># Exclude Class variable and then apply prcomp</span>

pca3 &lt;- prcomp(Sonar[,-<span class="hljs-number">61</span>], scale. = <span class="hljs-literal">T</span>)</code></pre>
<p>We can see the output of this analysis using the <code>names()</code>:<br>
</p>
<pre class="r"><code class="hljs">names(pca3)</code></pre>
<pre><code class="hljs">## [1] "sdev"     "rotation" "center"   "scale"    "x"</code></pre>
<p>Among these values the <code>center</code> and <code>scale</code> refers to the mean and standard deviation of the variables that are used for normalisation prior to PCA. The <code>rotation</code> gives the principal component loading, and this is another useful measure used to understand the contribution of each variable to the extracted components/dimensions. <code>x</code> gives the extracted principal components (equal to <code>rotation</code> in preProcess).<br>
</p>
<pre class="r"><code class="hljs">head(pca3$x)</code></pre>
<p>Principal component analysis is also a broad topic in Multivariate statistical analysis. For more information on PCA please refer to the “Additional Resources and Further Reading” section.<br>
</p>
</div>
</div>
<div id="additional-resources-and-further-reading" class="section level1">
<div name="additional_resources_and_further_reading" data-unique="additional_resources_and_further_reading"></div><h1>Additional Resources and Further Reading</h1>
<p>Probably the best resource on data transformations (including the mathematical transformations and Box-Cox transformations) is the stellar article written by <span class="citation">Box and Cox (1964)</span>, a copy of this paper can be found in RMIT’s library.<br>
</p>
<p>There are many good tutorials on data centering, scaling, z score and min-max normalisation and binning using R. You can also benefit from these tutorials <a href="https://medium.com/@TheDataGyan/day-8-data-transformation-skewness-normalization-and-much-more-4c144d370e55">here</a> , <a href="http://users.nccs.gov/~fwang2/papers/dm.pdf">here</a> and <a href="https://www.analyticsvidhya.com/blog/2016/01/guide-data-exploration/">here</a>.<br>
</p>
<p>Also for feature selection and feature extraction methods, the <a href="https://mlr-org.github.io/mlr-tutorial/devel/html/"><code>mlr</code></a> and <a href="http://topepo.github.io/caret/index.html"><code>caret</code></a> package manuals and <a href="https://machinelearningmastery.com/pre-process-your-dataset-in-r/">this tutorial</a> will be best source available for implementation of these methods using R.<br>
</p>
<p>The principal component analysis is also a broad topic in Multivariate statistical analysis. For more information on PCA please refer to this <a href="https://uc-r.github.io/pca">tutorial</a> by University of Cincinnati.<br>
</p>
</div>
<div id="references" class="section level1 unnumbered">
<div name="references" data-unique="references"></div><h1>References</h1>
<div id="refs" class="references">
<div id="ref-box1964">
<p>Box, George EP, and David R Cox. 1964. “An Analysis of Transformations.” <em>Journal of the Royal Statistical Society. Series B (Methodological)</em>. JSTOR, 211–52.</p>
</div>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>



<div style="position: absolute; width: 0px; height: 0px; overflow: hidden; padding: 0px; border: 0px; margin: 0px;"><div id="MathJax_Font_Test" style="position: absolute; visibility: hidden; top: 0px; left: 0px; width: auto; padding: 0px; border: 0px; margin: 0px; white-space: nowrap; text-align: left; text-indent: 0px; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; font-size: 40px; font-weight: normal; font-style: normal; font-family: STIXSizeOneSym, sans-serif;"></div></div></body></html>