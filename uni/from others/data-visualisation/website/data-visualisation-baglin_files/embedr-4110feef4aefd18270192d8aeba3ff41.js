"undefined"!=typeof YAHOO&&YAHOO||(YAHOO={}),YAHOO.i13n=YAHOO.i13n||{},YAHOO.i13n.EventTypes=function(){function e(e,t,n){this.yqlid=e,this.eventName=t,this.spaceidPrefix=n}var t="richview",n="contentmodification";e.prototype={getYQLID:function(){return this.yqlid},getEventName:function(){return this.eventName}};var i={pageview:new e("pv","pageview",""),simple:new e("lv","event","P"),linkview:new e("lv","linkview","P"),richview:new e(t,t,"R"),contentmodification:new e(t,n,"R"),dwell:new e("lv","dwell","D")};return{getEventByName:function(e){return i[e]}}}(),YAHOO.i13n.Rapid=function(e){function t(){}function n(e){this.map={},this.count=0,e&&this.absorb(e)}function r(){this.map={},this.count=0}function o(e,t){if(!e)return null;null===t&&(t=!1);var n=new r,i=B.getAttribute(e,B.data_action_outcome);i&&n.set("outcm",i);var o=B.getAttribute(e,"data-ylk");if(null===o||0===o.length)return n;for(var a=o.split(B.ylk_pair_delim),s=0,l=a.length;l>s;s++){var c=a[s].split(B.ylk_kv_delim);if(2===c.length){var u=c[0],d=c[1];null!==u&&""!==u&&null!==d&&(d.length>B.MAX_VALUE_LENGTH&&(d=d.substring(0,B.MAX_VALUE_LENGTH)),u.length<=8&&d.length<=B.MAX_VALUE_LENGTH&&("_p"!==u||t)&&n.set(u,d))}}return n}function a(e,t,n){return t>e?t:e>n?n:e}function s(t,n){F.set("A_sid",YAHOO.i13n.A_SID||B.rand()),F.set("_w",B.rmProto(n).substring(0,B.MAX_VALUE_LENGTH)),t?F.absorb(t):e.keys&&F.absorb(e.keys)}function l(e){var t=YAHOO.i13n,n=YAHOO.i13n.TEST_ID||e.test_id,i=e.location||document.location.href;s(e.keys,i),n&&(n=B.norm(""+n));var r=300,o=700,l=1e4,u=e.override||{},d={override:u,version:"3.28",keys:F,referrer:e.referrer,getReferrer:function(){return B.norm(B.clref("undefined"!=typeof this.referrer?this.referrer:document.referrer))},spaceid:B.norm(u.spaceid||YAHOO.i13n.SPACEID||e.spaceid),yrid:B.norm(e.yrid||""),oo:e.oo?"1":"0",nol:e.nol?"1":"0",yql_enabled:e.yql_enabled!==!1,ywa:t.ywa?c(e.ywa,t.ywa):e.ywa,ywa_dpid:null,ywa_cf_override:t.YWA_CF_MAP||{},ywa_action_map:t.YWA_ACTION_MAP||{},ywa_outcome_map:t.YWA_OUTCOME_MAP||{},fing:1==e.use_fing,USE_RAPID:e.use_rapid!==!1,linktrack_attribut:e.lt_attr||"text",tracked_mods:e.tracked_mods||[],tracked_mods_viewability:e.tracked_mods_viewability||[],viewability:e.viewability||!1,viewability_time:e.viewability_time||300,viewability_px:e.viewability_px||50,lt_attr:e.lt_attr||"text",client_only:e.client_only,text_link_len:e.text_link_len||-1,test_id:n,yql_host:e.yql_host||"geo.query.yahoo.com",yql_path:e.yql_path||"/v1/public/yql",click_timeout:e.click_timeout||l,compr_timeout:e.compr_timeout||o,compr_on:e.compr_on!==!1,compr_type:e.compr_type||"deflate",webworker_file:YAHOO.i13n.WEBWORKER_FILE||e.webworker_file||"rapidworker-1.2.js",nofollow_classname:e.nofollow_class||"rapidnofollow",no_click_listen:e.rapid_noclick_resp||"rapid-noclick-resp",nonanchor_track_class:e.nonanchor_track_class||"rapid-nonanchor-lt",anc_pos_attr:"data-rapid_p",anc_v9y_attr:"data-v9y",deb:e.debug===!0,ldbg:e.ldbg>0?!0:i.indexOf("yhldebug=1")>0,addmod_timeout:e.addmodules_timeout||300,ult_token_capture:"boolean"==typeof e.ult_token_capture?e.ult_token_capture:!1,track_type:e.track_type||"data-tracktype",dwell_on:e.dwell_on===!0,async_all_clicks:e.async_all_clicks===!0,click_postmsg:e.click_postmsg||{},apv:e.apv!==!1,apv_time:e.apv_time||500,apv_px:e.apv_px||500,apv_always_send:e.apv_always_send===!0,ex:e.ex===!0,persist_asid:e.persist_asid===!0,track_right_click:e.track_right_click===!0,gen_bcookie:e.gen_bcookie===!0,skip_attr:e.skip_attr||"data-rapid-skip",parse_dom:e.parse_dom===!0,pageview_on_init:e.pageview_on_init!==!1,perf_navigationtime:e.perf_navigationtime||0,perf_commontime:e.perf_commontime||null,perf_customtime:e.perf_customtime||null,perf_resourcetime:e.perf_resourcetime||0,sample:e.sample||{},loc:i,fpc:e.fpc===!0};d.ywa_action_map[YAHOO.i13n.EventTypes.getEventByName("richview").getEventName()]=100,!d.ywa||d.ywa.project_id&&0!=d.ywa.project_id&&B.isNumeric(d.ywa.project_id)||(p("Invalid YWA project id: null or not numeric."),d.ywa=null);var m=1*d.compr_timeout;return B.isNum(m)?d.compr_timeout=a(m,r,o):d.compr_timeout=o,d.ldbg&&d.click_timeout!=l&&f("Click timeout set to "+d.click_timeout+"ms (default 10000ms)"),e.apv_callback&&"function"==typeof e.apv_callback?d.apv_callback=e.apv_callback:d.apv_callback=null,d}function c(e,t){var n={};if(e&&B.isObj(e))for(var i in e)B.hasOwn(e,i)&&(n[i]=e[i]);if(t&&B.isObj(t))for(var i in t)B.hasOwn(t,i)&&(n[i]=t[i]);return n}function u(){F.set("A_sid",B.rand())}function d(){return"Rapid-"+$.version+"("+(new Date).getTime()+"):"}function f(e){console.warn("RAPID WARNING: "+e)}function p(e){console.error("RAPID ERROR: "+e)}function m(e){$.ldbg&&console.log(d()+e)}function h(){var e=document.cookie;if(this.cookieMap={},/[^=]+=[^=;]?(?:; [^=]+=[^=]?)?/.test(e))for(var t=e.split(/;\s/g),n=null,i=null,r=null,o=0,a=t.length;a>o;o++){if(r=t[o].match(/([^=]+)=/i),r instanceof Array)try{n=B.dec(r[1]),i=B.dec(t[o].substring(r[1].length+1))}catch(s){p(s)}else n=B.dec(t[o]),i=n;("B"===n||"BX"===n||"TT"===n||$&&$.ywa&&n==="fpc"+$.ywa.project_id||"fpc"===n||"ywandp"===n||0===n.indexOf("ywadp")||"D"===n||"_ga"===n||"yx"===n||"rx"===n)&&(this.cookieMap[n]=i)}}function g(){if($.ult_token_capture&&YAHOO.i13n.__handled_ult_tokens__!==!0){YAHOO.i13n.__handled_ult_tokens__=!0;var e=$.loc;if(e.match(/;_yl[a-z]{1}=/))$.ldbg&&m("Found ULT Token on URL."),K.sendGeoT(e);else{var t=new h,n=t.getCookieByName("D");n&&(B.clearCookie("D","/",".yahoo.com"),K.sendGeoT(n))}}}function v(){return Math.floor((new Date).valueOf()/1e3)}function w(e,t,n){var i=new Date,r="";i.setTime(i.getTime()+1e3*n),r="; expires="+i.toGMTString();var o=e+"="+t+r+"; path=/";document.cookie=o}function _(){return""+Math.floor(4294967295*Math.random())}function y(e){var t,n=[];for(t in e)e[t]&&n.push(t+":"+e[t]);return encodeURIComponent(n.join(";"))}function b(e,t){e=e||"";var n=decodeURIComponent(e).split(";"),r={};for(i=0,excl=n.length;i<excl;i++){var o=n[i].split(":");r[o[0]]=o[1]}return t?r[t]:r}function k(){function e(e){var t="cf";return t+=10>e&&"0"!==(""+e).charAt(0)?"0"+e:e}function t(){"undefined"!=typeof window.ITTs&&B.isArr(window.ITTs)&&0!==window.ITTs.length||(window.ITTs=[{}]),window.ITTs[0].setFPCookies||(window.ITTs[0].setFPCookies=function(){var e="fpc",t=new h,n=b(t.getCookieByName(e));n[$.ywa.project_id]=window.ITTs[0].FPCV,w(e,y(n),31536e3);var i=t.getCookieByName(e+$.ywa.project_id);i&&B.clearCookie(e+$.ywa.project_id)})}function i(e,t){$.ldbg&&m(e);var n=new Image,i=null;n.onload=n.onabort=n.onerror=function(){t&&"function"==typeof t&&(clearTimeout(i),t.call(null))},n.src=e,t&&"function"==typeof t&&(i=setTimeout(function(){t.call(null)},$.click_timeout)),setTimeout(function(){n=null},1e7)}function r(e,t){for(var n in e)if(B.hasOwn(e,n)){var i=$.ywa_cf_override[n];i&&(t[i]=e[n])}}function o(n,i,o,a,s,l,c){function u(e,t){var n=t?"%3B":";";return e+(o?n+e:"")}var d=new h,f=d.getYWAFPC();d.getYWADPID(),a=a||{},"c"!==n&&t();var m=[B.curProto(),$.ywa.host||"a.analytics.yahoo.com","/fpc.pl?"],g=$.ywa.project_id,w=$.ywa.document_group,_={};$.test_id&&(_[14]=$.test_id);var y={};B.aug(y,O().getAll()),B.aug(y,l);var b=["_cb="+B.rand(),".ys="+$.spaceid,"a="+g,"b="+B.enc($.ywa.document_name||document.title),"d="+B.enc(new Date),"f="+B.enc($.loc),"j="+B.sr("x"),"k="+B.cold(),"t="+v(),"l=true"];if(B.hasOwn(y,"A_apv")&&b.push("apv="+B.enc(y.A_apv)),c)for(var k in c)B.hasOwn(c,k)&&b.push(k+"="+B.enc(c[k]));if(w&&""!==w&&b.push("c="+B.enc(w)),$.ywa_dpid&&b.push("dpid="+$.ywa_dpid),"c"===n){a.x=12;var A="12";o&&(A=B.enc(A+";"+o)),b.splice(0,0,"x="+A)}else"e"===n&&b.push("x="+i+(o?";"+o:""));f&&b.push("fpc="+B.enc(f));var E=$.ywa.member_id;E&&b.push("m="+E),""!==$.getReferrer()&&b.push("e="+B.enc($.getReferrer())),r(y,_),"e"===n&&s&&r(s,_);var T=$.ywa.cf;B.aug(_,T,function(e){return!B.isResCF(e)});for(var C in _)B.hasOwn(_,C)&&b.push(e(C)+"="+u(B.enc(_[C]),1));if(("e"===n||"c"===n)&&b.push("ca=1"),"p"!==n&&b.push("resp=img"),"c"===n)for(var I in a)if(B.hasOwn(a,I)&&"x"!==I){var S=a[I];S&&S.length>B.MAX_VALUE_LENGTH&&(S=S.substring(0,B.MAX_VALUE_LENGTH));try{S=B.enc(u(S)),S=S.replace(/'/g,"%27")}catch(x){p(x)}b.push(e(I)+"="+S)}return m.join("")+b.join("&")}function a(){return"rapid_if_"+B.rand()}function s(e){var t="display:none;";!B.isIE||6!==B.ieV&&7!==B.ieV&&8!==B.ieV?B.sa(e,"style",t):e.style.setAttribute("cssText",t,0)}function l(e){var t=null;if(B.isIE&&B.ieV<=8){var n="";B.isSecure()&&6==B.ieV&&(n='src="https://geo.yahoo.com/b.html"'),t=document.createElement("<iframe "+n+' name="'+e+'"></iframe>')}else t=document.createElement("iframe");return t.name=e,t}function c(){setTimeout(function(){var e=l("");B.addEvent(e,"load",function(){B.rmBodyEl(e)}),B.appBodyEl(e)},1)}function u(e,t){var n=null,i=B.make("form"),r=B.make("input"),o=a(),u=a(),f="application/x-www-form-urlencoded;charset=UTF-8";n=l(o),s(n),s(i),i.id=u,i.method="POST",i.action=d(t),i.target=o,B.isIE&&B.ieV<=7?i.setAttribute("enctype",f):(i.setAttribute("enctype",f),i.setAttribute("encoding",f)),r.name="q",r.value=e,B.isIE&&B.ieV>=10&&(r.type="submit"),i.appendChild(r);var p="load",h=function(){var e="";if($.ldbg&&(!B.isIE||B.ieV>=9)){var t=n.contentDocument||n.contentWindow.document;e=t.body.innerHTML}B.rmEvent(n,p,h),setTimeout(function(){B.rmBodyEl(n),B.rmBodyEl(i)},0),$.ldbg&&m("iframe resp: "+e),B.isIE&&B.ieV<=7&&c()};B.addEvent(n,p,h),B.appBodyEl(n),B.appBodyEl(i),i.submit()}function d(e){var t=$.deb,n=B.rand(),i=[B.curProto(),$.yql_host,$.yql_path,"?yhlVer=2&yhlClient=rapid&yhlS=",$.spaceid,t===!0?"&yhlEnv=staging":"",t===!0||$.ldbg?"&debug=true&diagnostics=true":"",B.isIE&&B.ieV?"&yhlUA=ie"+B.ieV:"",B.isIE&&8==B.ieV?"&format=json":"","&yhlCT=2","&yhlBTMS=",(new Date).valueOf(),"&yhlClientVer=",$.version,"&yhlRnd=",n,"&yhlCompressed=",e||0,$.gen_bcookie?"&yhlBcookie=1":""].join("");return $.ldbg&&m(i),i}function g(e,t){var n=B.getXHR(),i=d(t);n.open("POST",i,!0),n.withCredentials=!0,n.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),$.ldbg&&(n.onreadystatechange=function(){4===n.readyState&&m(n.status+":xhr response: "+n.responseText)}),n.send(e)}function _(e,t,n){var i={};return B.isObj(e)?(B.aug(i,e,n),i):i}function k(e,t,n){n=n||{};var i={m:B.norm(e.moduleName),l:[]};e.moduleYLK&&(i.ylk=e.moduleYLK.getAll());for(var r=i.ylk&&i.ylk.sec?i.ylk.sec:"",o=e.links,o=e.links,a=function(e,n){var o="_p"===e;return t&&o?!0:"sec"==e&&n!=i.m&&n!=r?!0:"sec"!==e&&!o},s=0,l=o.length;l>s;s++)o[s]&&(!$.viewability||o[s].viewable?i.l.push(_(o[s].data,t,a)):$.ldbg&&m("Skipping not viewable link: "+o[s].data.slk));return i}function A(e,t,n){var i=[],r=null;for(var o in e)if(B.hasOwn(e,o)&&(r=e[o])){var a=k(r,t,n);a.l.length>0?i.push(a):$.ldbg&&m('Not capturing 0 links mod: "'+r.moduleName+'"')}return i}function E(e,t){return e?"pv":t&&t.event?t.event.type.getYQLID():"lv"}function T(e,t,n,i,r){return[{t:E(t,r),s:$.spaceid,pp:O(t,i).getAll(),_ts:v(),lv:A(e,n,r)}]}function O(e,t){var i=n.makeFromPP($.keys);return i.absorb(t),e&&i.set("A_",1),i}function C(e,t,n){var i="select * from x where a = '"+e+"'";return(t?"q=":"")+(n?B.enc(i):i)}function I(e){var t={bp:j(),r:e.call(0),yrid:$.yrid,optout:$.oo,nol:$.nol};return B.toJSON(t)}function S(e,t,n){var i={};n.event&&B.aug(i,n.event.data),n.pp&&B.aug(i,n.pp);var r=I(function(){return T([e],t,!0,i,n)});L(r,t)}function x(e,t,n,i){var r=I(function(){return T(e,t,!0,n,i)});L(r)}function N(e){return e.identifier}function L(e){function t(e,t){0===t&&(e=e.replace(/'/g,"\\'")),i&&m("body: "+e),B.hasCORS()?(r=C(e,!0,!0),g(r,t)):(r=C(e,0,0),u(r,t))}function n(){s||(s=!0,t(e,0),i&&m("sent in failSend"))}var i=$.ldbg,r="",o=G[$.compr_type];if($.compr_on&&B.hasWorkers()&&o>1&&e.length>2048){i&&m("Looking for worker:"+$.webworker_file+", compr timeout:"+$.compr_timeout);try{var a=new Worker($.webworker_file),s=!1,l=null,c=0;a.onerror=function(e){clearTimeout(l),n(),f(e.message),a.terminate()},a.onmessage=function(r){clearTimeout(l);var u=B.tms();("Decompress fail"===r.data||"Compress fail"===r.data||0==r.data.indexOf("error:"))&&(i&&m(r.data),n()),s||(s=!0,t(r.data,o)),i&&m("Ratio ("+r.data.length+"/"+e.length+"): "+(100*r.data.length/e.length).toFixed(2)+"% -> C_T: "+(u-c)+" ms ("+u+"-"+c+")"),a.terminate()},i&&m("posting to worker: "+e),c=B.tms(),a.postMessage({type:o,json:e}),l=setTimeout(function(){n(),a.terminate()},$.compr_timeout)}catch(d){i&&m("compression worker exception "+d),t(e,0)}}else t(e,0)}function P(e,t,n){return B.curProto()+V+"/"+e+["?s="+(n?n:$.spaceid),"t="+B.rand()+","+Math.random(),"_I="+$.yrid,"_AO="+$.oo,"_NOL="+$.nol,"_R="+B.enc($.getReferrer()),("c"===e?"_K=":"_P=")+D(t)].join("&")}function D(e){var t=new n(j(!1));return t.absorb($.keys.getAll()),t.set("_ts",v()),e&&(e instanceof n?t.absorb(e.getAll()):p("Internal error in buildGeoPP: not PP type")),$.version+"%05"+t.ser()}function M(e){var t=[P("c")+"&_C="+B.ser(e.data)];return t.join("&")}function R(e,t){var n=e[t];return n&&B.isNum(n)&&n>=0?n:null}function H(e){var t=B.getAttribute(e,B.DATA_ACTION),n=B.getAttribute(e,B.data_action_outcome);return null!==t?R($.ywa_action_map,t):null!==n?R($.ywa_outcome_map,n):null}var V=YAHOO.i13n.beacon_server||"geo.yahoo.com",j=function(e){var t={_pl:1,A_v:$.version},n=$.getReferrer();n&&e!==!1&&(t._R=n.substring(0,B.MAX_VALUE_LENGTH)),$.test_id&&(t.test=$.test_id),$.ex&&(t._ex=1),t._bt||(t._bt="rapid");var i=window.location.protocol||"";return i=i.replace(/:$/,""),t.A_pr=i,t.A_tzoff=(new Date).getTimezoneOffset(),t.A_tzoff=t.A_tzoff?-1*t.A_tzoff/60:0,t},U=function(){var e=null,t=[],n=0,i=$.addmod_timeout;return function(r,o,a,s){clearTimeout(e);var l=+new Date-n;if(t=B.uniqConcat(t,r,N),l>i)n=+new Date,x(t,o,a,s),t=[];else{var c=i-l;e=setTimeout(function(){$.ldbg&&m("queueing send in addMods"),x(t,o,a,s),t=[]},c)}}}();return{sendGeoT:function(e){var t=[B.curProto(),V,"/t?",e].join("");i(t)},sendGeoPV:function(){i(P("b"))},sendRapidNoDelay:function(e,t,r,o,a){if(!$.yql_enabled||a){var s=null;r&&(s=new n(r)),i(P(t?"b":"p",s))}else x(e,t,r,o)},sendRapid:function(e,t,n,i){U(e,t,n,i)},sendRefreshedContent:S,sendYWAEvent:function(e,t){var n=null,r=null,a=e.name;$.ywa_action_map&&a&&(n=R($.ywa_action_map,a)),null!==n&&($.ywa_outcome_map&&e.outcome&&(r=R($.ywa_outcome_map,e.outcome)),i(o("e",n,r,null,e.data),t))},sendULTEvent:function(e,t){var r={};e&&e.data&&(r=e.data);var o=P("p",new n(r),t||0);e.type&&(o+="&_V="+e.type.spaceidPrefix),i(o)},sendEvents:function(e,t){$.USE_RAPID&&this.sendULTEvent(e),$.ywa&&this.sendYWAEvent(e,t)},sendClick:function(e,t){var n=null,a="",s="",l=null,c=!1,u=null;if($.USE_RAPID&&(a=M(e)),$.ywa){var d=e.data,f=e.targetElement,p={18:d.sec,19:d.slk,20:d._p};"A_cl"in d&&(p[130]=d.A_cl),"A_lv"in d&&(p[131]=d.A_lv),l=f?H(f):R($.ywa_outcome_map,e.outcome),$.ywa_cf_override&&r(d,p),s=o("c",0,l,p)}if($.async_all_clicks||!e.synch)return a&&i(a,t),void(s&&(a?i(s):i(s,t)));if(B.prevDef(e.event),n=function(){if(!c){if(c=!0,t)return void t.call();var n=e.targetElement.href;if($.click_postmsg.origin){var i=$.click_postmsg.window||top,r=$.click_postmsg.payload||{};r.href=n,i.postMessage(B.toJSON(r),$.click_postmsg.origin)}else e.hasTargetTop?top.document.location=n:document.location=n}},$.USE_RAPID)if($.ywa){var m=new Image,h=new Image,g=0;m.onload=m.onerror=m.onabort=h.onload=h.onerror=h.onabort=function(){2===++g&&(clearTimeout(u),n())},m.src=a,h.src=s,u=setTimeout(n,$.click_timeout),setTimeout(function(){m=null,h=null},1e7)}else i(a,n);else $.ywa&&i(s,n)},sendYWAPV:function(e){function t(){i[0].removeChild(a)}var n=o("p",0,0,0,0,e),i=document.getElementsByTagName("head"),r="true";if(0!==i.length){var a=B.make("script",{defer:r,async:r,type:"text/javascript",src:n});B.isIE?a.onreadystatechange=function(){var e=this.readyState;("loaded"===e||"complete"===e)&&(a.onload=a.onreadystatechange=null,t())}:B.isWebkit?a.addEventListener("load",t):a.onload=t,i[0].appendChild(a)}},sendInternalSearch:function(e,t){e=e||"",B.isNum(t)||(t=0);var n={isk:e,isr:t},r=o("e","INTERNAL_SEARCH",null,null,null,null,n);i(r)},sendYWAECommerce:function(e,t){var n={},r={PRODUCT_VIEW:1,ADD_TO_CART:1,CANCELLED_SALE:1,PENDING_SALE:1,SALE:1},a={amount:"xa",orderId:"oc",tax:"xt",shipping:"xs",discount:"xd",sku:"p",units:"q",amounts:"r"};if(!(e in r))return void p("invalid YWA ecommerce action: "+e);for(var s in t)if(B.hasOwn(t,s)&&s in a){var l=a[s];n[l]=t[s]}"SALE"===e&&(e=1);var c=o("e",e,null,null,null,null,n);i(c)}}}function A(e,t,n,i,r,a,s){var l="",c=null,u=s?B.isAboveFold(i):!0,d={viewable:u,data:{sec:t,_p:n}};return s&&B.aug(d.data,{A_lv:1}),a?(d.data.slk=r||"section",c=o(i)):(i.setAttribute($.anc_pos_attr,n),s&&i.setAttribute($.anc_v9y_attr,u?"1":"0"),l=B.getLT(i,e),l&&""!==l?c=o(i):l="_ELINK_",d.data.slk=r?r:l),null!==c&&B.aug(d.data,c.getAll()),d}function E(){var e={};return{addModule:function(t,n){e[B.norm(t)]=n},addModules:function(e,t){var n=B.isArr(e),i=[];n||B.isStr(e)&&(e=new Array(e),n=!0);for(var r in e)if(B.hasOwn(e,r)){var o=n?e[r]:r,a=B.trim(e[r]);if(this.exists(o))p('addModules() called with prev processed id:"'+o+'"');else{var s=D(a,o,t);s&&(this.addModule(o,s),i.push(s))}}return i},getModules:function(){return e},getModulesWithViewability:function(){var t={};for(var n in e){var i=e[n];i.useViewability&&(t[n]=i)}return t},reevaluateModuleViewability:function(){var e=this.getModulesWithViewability();for(var t in e){var n=e[t];n.reevaluateViewableLinks()}},refreshModule:function(t,n,i,r){var o=e[B.norm(t)];o?o.refreshModule(t,n,i,r):p("refreshModule called on unknown section: "+o)},removeModule:function(t){var n=e[B.norm(t)];n&&(n.removeHandlers(),delete e[t])},destroy:function(){for(var t in e)B.hasOwn(e,t)&&this.removeModule(t);e={}},exists:function(t){return e[B.norm(t)]}}}function T(e,t){return B.hasClass(e,"rapid_track_href")?"href":B.hasClass(e,"rapid_track_text")?"text":B.hasClass(e,"rapid_track_title")?"title":B.hasClass(e,"rapid_track_id")?"id":t}function O(e){return"input"===e.nodeName.toLowerCase()&&"submit"===B.getAttribute(e,"type")}function C(e,t){var n=x(e,t);ee=n,n&&(Q&&Q.set_state("stop"),K.sendClick(n))}function I(e,t,n){var i=B.getAttribute;return t.target&&"_blank"===t.target.toLowerCase()||2===e.which||4===e.button||e.altKey||e.ctrlKey||e.shiftKey||e.metaKey||"on"===i(t,"data-nofollow")||i(t,"href")&&"javascript:"===i(t,"href").substr(0,11).toLowerCase()||B.hasClass(t,$.nofollow_classname)||B.hasClass(n,$.nofollow_classname)}function S(e,t,n,i){n=n||{};var r=null;return e?(r=YAHOO.i13n.EventTypes.getEventByName(e),n._E=r.getEventName(),t=n._E):n._E=t||"_",i&&(n.outcm=i),{type:r,name:t,data:n,outcome:i}}function x(e,t){e=e||event;for(var n=B.getTarget(e),i="button",r="input",a="",s=!1,l=null;n&&(a=n.nodeName.toLowerCase())&&"a"!==a&&a!==i&&!O(n)&&!B.hasClass(n,$.nonanchor_track_class);)n=n.parentNode;if(!n||B.hasClass(n,$.no_click_listen))return 0;if(B.hasClass(n,$.nonanchor_track_class)){l={pos:0,sec:t.moduleName,slk:"_"};var c=o(n,1);c&&B.aug(l,c.getAll())}else{var u=B.getAttribute(n,$.anc_pos_attr);if(l=t.getLinkAtPos(u),!l)return 0;l=l.data,a===r||a===i||I(e,n,t.moduleElement)||(s=!0)}if(!l.tar){var d=B.getAttribute(n,"href");d&&(l.tar=B.extDomain(d)),d&&l.tar||(l.tar=B.extDomain($.loc))}l.tar_uri||(n.pathname?l.tar_uri=n.pathname.substring(0,B.MAX_VALUE_LENGTH):l.tar_uri="");var f=t.moduleYLK;if(f){var p=f.getAll();B.aug(l,p,function(e){return!(e in l)})}return l.A_xy=B.xy(e),l.A_sr=B.sr(),"contextmenu"==e.type&&(l.A_cl=3,s=!1),{data:l,event:e,moduleElement:t.moduleElement,targetElement:n,synch:s,hasTargetTop:n&&n.target&&"_top"===n.target.toLowerCase()}}function N(e,t,n,i,r){var o={};return B.aug(o,i),o.sec=e,o.slk=t,o._p=n,{data:o,outcome:r,event:null,moduleElement:null,targetElement:null,synch:!1,hasTargetTop:!1}}function L(e,t,n){t||(t=document);for(var i=e.split(","),r=[],o=0,a=i.length;a>o;o++)for(var s=t.getElementsByTagName(i[o]),l=0,c=s.length;c>l;l++){var u=s[l];(!n||n.call(0,u))&&r.push(u)}var d=r[0];return d?(d.sourceIndex?r.sort(function(e,t){return e.sourceIndex-t.sourceIndex}):d.compareDocumentPosition&&r.sort(function(e,t){return 3-(6&e.compareDocumentPosition(t))}),r):[]}function P(e,t,n,i){t||(t=document);var r=e.split(",");n=n||[];var o=t.childNodes;if("true"!==B.getAttribute(t,$.skip_attr))for(var a=0,s=o.length;s>a;a++){var l=o[a];B.isTagOfInterest(l,r)&&(!i||i.call(0,l))&&n.push(l),"true"!==B.getAttribute(l,$.skip_attr)?P(e,l,n,i):"true"===B.getAttribute(l,$.skip_attr)&&n.push(l)}var c=n[0];return c?(c.sourceIndex?n.sort(function(e,t){return e.sourceIndex-t.sourceIndex}):c.compareDocumentPosition&&n.sort(function(e,t){return 3-(6&e.compareDocumentPosition(t))}),n):[]}function D(e,t,n){function i(t,i){var r=[];i=i||1;for(var a=0,l=t.length;l>a;a++)if("div"===t[a].tagName.toLowerCase()){var d=t[a],f=o(d),m=A(p,c.map.sec||e,1,d,f.map.slk||c.map.slk,!0,n);u[0]=m,r.push(m)}else{var h=t[a],m=A(p,c.map.sec||e,i,h,c.map.slk,0,n);u[i-1]=m,r.push(m),i++}if("true"===B.getAttribute(s,$.skip_attr)){var m=A(p,c.map.sec||e,1,d,c.map.slk,!0,n);u[0]=m,r.push(m)}return r}function r(t){for(var n=[],i=0,r=t.length;r>i;i++){var o=t[i],a=B.getAttribute(o,$.anc_pos_attr),s=A(p,c.map.sec||e,a,o,c.map.slk,0,!0);n.push(s)}return n}function a(e){return!B.getAttribute(e,$.anc_pos_attr)}var s=document.getElementById(t),l="a,button,input";if(!s)return f("Specified module not in DOM: "+t),null;var c=o(s),u=[],d=$.parse_dom?P(l,s):L(l,s),p=T(s,$.lt_attr),h=d.length,g=B.getAttribute(s,$.track_type);i(d);var v={useViewability:n,moduleYLK:c,links:u,moduleName:e,trackType:g,moduleElement:s,refreshModule:function(e,t,r,o){o.isRefreshed=!0;var s=$.parse_dom?P(l,B.$(e),null,a):L(l,B.$(e),a);if(t===!0||s.length>0){var c=i(s,h+1);h+=s.length;var u=s.length;if(n){u=0;for(var d=0,f=c.length;f>d;d++)c[d].viewable&&u++}if((t===!0||u>0)&&($.USE_RAPID||o.event)){var p={};B.aug(p,this),r?p.links=c:p.links=[],(t===!0||r)&&K.sendRefreshedContent(p,t,o)}}else B.ldbg&&m("refreshModule("+e+") - no new links.");t===!0&&($.ywa&&K.sendYWAPV(o.pp),$.apv&&J&&J.reInit())},reevaluateViewableLinks:function(){var t=u.length,n=L("a",this.moduleElement,function(t){return function(n){if(!B.getAttribute(n,$.anc_pos_attr)){t++,n.setAttribute($.anc_pos_attr,t);var i=A(p,c.map.sec||e,t,n,c.map.slk,0,!1);u[t-1]=i}var r=B.getAttribute(n,$.anc_v9y_attr);return"1"!==r&&B.isAboveFold(n)?(n.setAttribute($.anc_v9y_attr,"1"),!0):!1}}(t));if(0!==n.length&&$.USE_RAPID){var i=r(n),o={};B.aug(o,this),o.links=i,K.sendRefreshedContent(o,!1,{})}},removeHandlers:function(){B.rmEvent(s,"click",w),$.track_right_click&&B.rmEvent(s,"contextmenu",w)},getLinkAtPos:function(e){return e>u.length?null:u[e-1]},identifier:t},w=function(e){C(e,v)};return B.addEvent(s,"click",w),$.track_right_click&&B.addEvent(s,"contextmenu",w),v}function M(e,t,i){if($.ldbg&&m("beaconPageview called, pp="+B.fData(e)),t&&!$.persist_asid&&u(),($.USE_RAPID||$.apv_always_send&&B.hasOwn(e,"A_apv"))&&K.sendRapidNoDelay([],!0,e,null,i),$.ywa){var r=n.makeFromPP($.keys);r.absorb(e),K.sendYWAPV(r.getAll())}$.apv&&null!=J&&J.reInit()}function R(e,t,n,i){$.ldbg&&m('beaconEvent: event="'+e+'" data='+B.fData(t)+" outcome="+n);var r=S(0,e,t,n);K.sendEvents(r,i)}function H(){var e=null,t=(new Date).getTime(),n=t,i=B.getScrollY(),r=-1,o=function(){var e=B.getScrollY(),t=-1===r?e-i:e-r;Math.abs(t)>$.viewability_px&&(X.reevaluateModuleViewability(),r=e,n=(new Date).getTime())},a=function(){null!=e&&clearTimeout(e);var r=(new Date).getTime();r-t<$.viewability_time&&(i=B.getScrollY(),n=r),e=setTimeout(function(){o()},$.viewability_time)};B.addEvent(window,"scroll",a),this.reInit=function(){i=B.getScrollY(),r=-1,t=n=(new Date).getTime()},this.destroy=function(){B.rmEvent(window,"scroll",a)}}function V(){var e=null,t=lastApvTime=(new Date).getTime(),n=B.getScrollY(),i=-1,r=function(){var e=B.getScrollY(),t=-1===i?e-n:e-i,r=t>0?0:1;if(Math.abs(t)>$.apv_px){var o={A_apv:1,A_apx:e,A_asd:r};M(o,!1,!0),i=e,lastApvTime=(new Date).getTime(),$.apv_callback&&$.apv_callback.call(this,{pixel_pos:e,scroll_dir:r})}},o=function(){null!=e&&clearTimeout(e);var i=(new Date).getTime();i-t<$.apv_time&&(n=B.getScrollY(),lastApvTime=i),e=setTimeout(function(){r()},$.apv_time)};B.addEvent(window,"scroll",o),this.reInit=function(){n=B.getScrollY(),i=-1,t=lastApvTime=(new Date).getTime()},this.destroy=function(){B.rmEvent(window,"scroll",o)}}function j(){var e,t,n={focus:{state:"start",etrg:"show",etag:"dwell,start",jse:"window.focus"},pageshow:{state:"start",etrg:"show",etag:"dwell,start",jse:"window.pageshow"},"visibilitychange-visible":{state:"start",etrg:"show",etag:"dwell,start",jse:"document.visibilitychange"},blur:{state:"stop",etrg:"hide",etag:"dwell,stop",jse:"window.blur"},pagehide:{state:"stop",etrg:"hide",etag:"dwell,stop",jse:"window.pagehide"},"visibilitychange-hidden":{state:"stop",etrg:"hide",etag:"dwell,stop",jse:"document.visibilitychange"},beforeunload:{state:"stop",etrg:"close",etag:"dwell,stop",jse:"window.beforeunload"}},i="start";"undefined"!=typeof document.hidden?(e="hidden",t="visibilitychange"):"undefined"!=typeof document.mozHidden?(e="mozHidden",t="mozvisibilitychange"):"undefined"!=typeof document.msHidden?(e="msHidden",t="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(e="webkitHidden",t="webkitvisibilitychange");var r=function(r){var o="",a=r.type;if(r.type==t&&(a=document[e]?"visibilitychange-hidden":"visibilitychange-visible"),B.hasOwn(n,a)&&(o=n[a].state),0!=o.length){if(i==o)return void($.ldbg&&console.log("dwell: -- state already "+i+" (event="+a+")"));i=o;var s=n[a];$.ldbg&&console.log("dwell: change state to "+i+" (event="+a+")");var l={etrg:s.etrg,outcm:"window",usergenf:1,etag:s.etag,A_jse:s.jse};R("dwell",l,"")}};for(var o in n)n.hasOwnProperty(o)&&B.addEvent(window,o,r);B.addEvent(window,t,r),this.set_state=function(e){i=e},this.destroy=function(){for(var e in n)n.hasOwnProperty(e)&&B.rmEvent(window,e,r);B.rmEvent(window,t,r)}}function U(e){var t=10;if(window.performance&&window.performance.timing){var n=e?e.perf_navigationtime||0:$.perf_navigationtime||0,i=e?e.perf_resourcetime||0:$.perf_resourcetime||0,r=e?e.perf_commontime||null:$.perf_commontime||null,o=e?e.perf_customtime||null:$.perf_customtime||null;if(!(1>n&&1>i)||r||o){var a=B.hasOwn($.sample,"perf_navigationtime")?$.sample.perf_navigationtime:100,s=B.hasOwn($.sample,"perf_resourcetime")?$.sample.perf_resourcetime:100,l=B.samplingSuccess(a),c=B.samplingSuccess(s);if(l||c){if(0===window.performance.timing.loadEventStart){if(re+=t,re>200)return;return void setTimeout(function(){U(e)},t)}var u=Y(n,i,r,o,l,c),d=S(0,"pageperf",u,"");K.sendEvents(d)}}}}function Y(e,t,n,i,r,o){var a=new Array("atf","xatf","fl","fv"),s={},l=window.performance.timing;if(r&&e>0&&(z(l.responseStart,l.connectEnd,s,"A_pfb"),z(l.responseEnd,l.responseStart,s,"A_pbp"),z(l.responseEnd,l.requestStart,s,"A_psr"),z(l.loadEventStart,l.navigationStart,s,"A_pol"),z(l.domInteractive,l.navigationStart,s,"A_pdi")),r&&e>1&&(z(l.redirectEnd,l.redirectStart,s,"A_prd"),z(l.domainLookupEnd,l.domainLookupStart,s,"A_pdl"),z(l.connectEnd,l.secureConnectionStart,s,"A_psh"),z(l.connectEnd,l.connectStart,s,"A_psc"),z(l.loadEventStart,l.responseEnd,s,"A_pfe")),o&&t>0&&"undefined"!=typeof window.performance.getEntries){for(var c=[],u=window.performance.getEntries(),d=0;d<u.length;d++){var f={},p=u[d].name.replace(/\?.+$/,"");p=p.replace(/^.+\//,""),f.name=p,f.dur=Math.floor(u[d].duration),t>1&&(f.st=Math.floor(u[d].startTime)),c.push(f)}s.A_res=B.sfy(c)}if(n)for(var d=0;d<a.length;d++)B.hasOwn(n,a[d])&&(s["A_c"+a[d]]=n[a[d]]);if(i)for(var m in i)m.match(/^ctm[0-9]+/)&&(s["A_"+m]=B.toJSON(i[m]));return s.etrg="backgroundPost",s.outcm="performance",s.usergenf=0,s.etag="performance",s}function z(e,t,n,i){if(e&&t){var r=e-t;n[i]=r}}function q(){g(),$.ldbg&&m("tracked_mods: "+B.fData($.tracked_mods));var e=X.addModules($.tracked_mods,!1),t=X.addModules($.tracked_mods_viewability,$.viewability);$.USE_RAPID&&$.pageview_on_init&&K.sendRapidNoDelay(e.concat(t),1==$.client_only),$.ywa&&$.pageview_on_init&&K.sendYWAPV(),B.executeOnLoad(function(){Z=new H,$.apv&&(J=new V),$.dwell_on&&(Q=new j),U()})}function W(e){var t=navigator.userAgent,n=Object.prototype,i=t.match(/MSIE\s[^;]*/)||t.match(/Trident\/[^;]*/)?1:0,r=/KHTML/.test(t)?1:0,o=null!==t.match(/(iPhone|iPad|iPod)/gi),a=(t.indexOf("Android")>-1,o&&null!==t.match(/AppleWebKit/)),s=null!==t.match(/AppleWebKit/)&&null===t.match(/Chrome/),l=new RegExp(/\ufeff|\uffef|[\u0000-\u001f]|[\ue000-\uf8ff]/g),c=new RegExp(/[\u007f-\u00a0]|\s{2,}/g),u="http://",d="https://",m="class",g=" ",v=-1,w=300,_=-1,y="https:"===window.location.protocol;return i&&(document.documentMode?_=document.documentMode:(_=5,document.compatMode&&"CSS1Compat"==document.compatMode&&(_=7))),{$:function(e){return document.getElementById(e)},ca:"%01",cb:"%02",cc:"%03",cd:"%04",ce:"%05",cf:"%06",cg:"%07",ch:"%08",ylk_kv_delim:e.ylk_kv_delim||":",ylk_pair_delim:e.ylk_pair_delim||";",DATA_ACTION:"data-action",data_action_outcome:"data-action-outcome",isIE:i,isIOSSafari:a,isSafari:s,isWebkit:r,ieV:_,MAX_VALUE_LENGTH:e.max_value_length||w,hasOwn:function(e,t){return n.hasOwnProperty.call(e,t)},enc:encodeURIComponent,dec:decodeURIComponent,curProto:function(){return y?d:u},isSecure:function(){return y},isScrollHorizontalVisible:function(){return document.documentElement.scrollWidth>document.documentElement.clientWidth},getCompStyle:function(e,t){return void 0!==window.getComputedStyle?window.getComputedStyle(e,t):(this.el=e,this.getPropertyValue=function(t){var n=/(\-([a-z]){1})/g;return"float"==t&&(t="styleFloat"),n.test(t)&&(t=t.replace(n,function(){return arguments[2].toUpperCase()})),e.currentStyle[t]?e.currentStyle[t]:0},this)},getBorder:function(e,t){if(!e||!t)return 0;var n=parseInt(this.getCompStyle(e,null).getPropertyValue(t),10);return isNaN(n)&&(n=0),n},getElementHeight:function(e){if(!e)return 0;var t=e.offsetHeight||0;return t?t-this.getBorder(e,"border-top-width")-this.getBorder(e,"border-bottom-width"):0},getPositionTop:function(e){for(var t=0;e;)t+=e.offsetTop,e=e.offsetParent;return t},getScrollbarWidthHeight:function(){var e=this.make("div");e.style.overflow="scroll",e.style.visibility="hidden",e.style.position="absolute",e.style.width="100px",e.style.height="100px",document.body.appendChild(e);var t={width:e.offsetWidth-e.clientWidth,height:e.offsetHeight-e.clientHeight};return this.rmBodyEl(e),t},isAboveFold:function(e){if(i&&7>=_)return!0;var t=B.getCompStyle(e);if("hidden"==t.visibility||"none"==t.display)return!1;var n=e.getBoundingClientRect(),r=this.getElementHeight(e),o=.5*r;if(n.top+o<0)return!1;var a=window.innerHeight||document.documentElement.clientHeight;if(this.isScrollHorizontalVisible()){var s=this.getScrollbarWidthHeight();a-=s.height}return n.bottom-o<=a?!0:void 0},strip:function(e){for(var t={"/":"P",";":"1","?":"P","&":"1","#":"P"},n={url:e,clean:"",cookie:"",keys:[]},i=0;-1!==e.indexOf("_yl",i);){var r=e.indexOf("_yl",i);if(r>i&&(n.clean+=e.slice(i,r-1)),i=r+3,t[e.charAt(r-1)]&&"="===e.charAt(r+4)){n.ult=1;var o="_yl"+e.charAt(r+3),a="";for(r+=5;r<e.length&&!t[e.charAt(r)];r++)a+=e.charAt(r);n.keys.push(o),n[o]=a,"_ylv"!==o&&(n.cookie+="&"+o+"="+a),t[e.charAt(r)]&&"P"===t[e.charAt(r)]&&(n.clean+=e.charAt(r)),i=r+1}else n.clean+=e.slice(r-1,i)}return n.ult&&(n.cookie=n.cookie.substr(1),n.clean+=e.substr(i),"0"===n._ylv),n},prevDef:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},appBodyEl:function(e){document.body.appendChild(e)},rmBodyEl:function(e){document.body.removeChild(e)},sa:function(e,t,n){e.setAttribute(t,n)},getScrollY:function(){var e=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;return e},make:function(e,t){var n=document.createElement(e);if(t&&this.isObj(t))for(var i in t)this.sa(n,i,t[i]);return n},getXHR:function(){function e(){for(var e=!1,n=t.length,i=0;n>i;i++){try{e=t[i]()}catch(r){continue}break}return e}var t=[function(){return new XMLHttpRequest},function(){
return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];return e()},hasLS:function(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}},hasCORS:function(){return i&&10>_?!1:"withCredentials"in new XMLHttpRequest?!0:"undefined"!=typeof XDomainRequest?!0:!1},hasWorkers:function(){return!!window.Worker},clearCookie:function(e,t,n){t=t?t:"/",n=n?n:"",document.cookie=e+"= ; path="+t+"; Expires=Thu, 01 Jan 1970 00:00:00 GMT; Domain="+n+";"},uniqConcat:function(e,t,n){function i(e){for(var t=0,i=e.length;i>t;t++){var a=e[t];if(a){var s=n(a);o[s]||(o[s]=1,r.push(a))}}}var r=[],o={};return i(e),i(t),r},trim:function(e){return e?e.replace(/^\s\s*/,"").replace(/\s\s*$/,""):e},extDomain:function(e){var t=e.match(/^https?\:\/\/([^\/?#]+)(?:[\/?#]|$)/i);return t&&t[1]},getAttribute:function(e,t){var n="";return document.documentElement.hasAttribute||t!==m||(t="className"),e&&e.getAttribute&&(n=e.getAttribute(t,2)),n},isDate:function(e){return"[object Date]"===n.toString.call(e)},isArr:function(e){return"[object Array]"===n.toString.apply(e)},isStr:function(e){return"string"==typeof e},isNum:function(e){return"number"==typeof e&&isFinite(e)},isNumeric:function(e){return e-0==e&&(e+"").replace(/^\s+|\s+$/g,"").length>0},isObj:function(e){return e&&"object"==typeof e},rTN:function(e){try{if(e&&3===e.nodeType)return e.parentNode}catch(t){p(t)}return e},getTarget:function(e){var t=e.target||e.srcElement;return this.rTN(t)},addEvent:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},rmEvent:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)},aug:function(e,t,n){if(t)for(var i in t)if(this.hasOwn(t,i)){if(n&&!n.call(null,i,t[i]))continue;e[i]=t[i]}},rmProto:function(e){return e?e.substr(0,7)===u?e.substr(7,e.length):e.substr(0,8)===d?e.substr(8,e.length):e:""},norm:function(e){return null===e?"":(e=""+e,this.trim(e.replace(c," ").replace(l,"")))},_hasClass:function(e,t){var n,i=!1;return e&&t&&(n=this.getAttribute(e,m)||"",i=t.exec?t.test(n):t&&(g+n+g).indexOf(g+t+g)>-1),i},hasClass:function(e,t){if(this.isArr(t)){for(var n=0,i=t.length;i>n;n++)if(this._hasClass(e,t[n]))return!0;return!1}return this.isStr(t)?this._hasClass(e,t):!1},quote:function(e){var t=/["\\\x00-\x1f\x7f-\x9f]/g,n={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},i='"',r='"';if(e.match(t)){var o=e.replace(t,function(e){var t=n[e];return"string"==typeof t?t:(t=e.charCodeAt(),"\\u00"+Math.floor(t/16).toString(16)+(e%16).toString(16))});return i+o+i}return r+e+r},sfy:function(e){if(!e&&""!==e)return{};var t,n=typeof e;if("undefined"===n)return"undefined";if("number"===n||"boolean"===n)return""+e;if("string"===n)return this.quote(e);if("function"==typeof e.toJSON)return this.sfy(e.toJSON());if(this.isDate(e)){var i=e.getUTCMonth()+1,r=e.getUTCDate(),o=e.getUTCFullYear(),a=e.getUTCHours(),s=e.getUTCMinutes(),l=e.getUTCSeconds(),c=e.getUTCMilliseconds();return 10>i&&(i="0"+i),10>r&&(r="0"+r),10>a&&(a="0"+a),10>s&&(s="0"+s),10>l&&(l="0"+l),100>c&&(c="0"+c),10>c&&(c="0"+c),'"'+o+"-"+i+"-"+r+"T"+a+":"+s+":"+l+"."+c+'Z"'}if(t=[],this.isArr(e)){for(var u=0,d=e.length;d>u;u++)t.push(this.sfy(e[u]));return"["+t.join(",")+"]"}if("object"===n){for(var f in e)if(this.hasOwn(e,f)){var p=typeof f,m=null;if("string"===p)m=this.quote(f);else{if("number"!==p)continue;m='"'+f+'"'}if(p=typeof e[f],"function"!==p&&"undefined"!==p){var h="";h=null===e[f]?'""':0===e[f]?0:this.sfy(e[f]),t.push(m+":"+h)}}return"{"+t.join(",")+"}"}},toJSON:function(){var e=null;return function(t){return e||(e="object"==typeof JSON&&JSON.stringify&&6!==_&&7!==_&&8!==_?JSON.stringify:this.sfy),e.call(this,t)}}(),executeOnLoad:function(e){var t=!1,n=function(n){(document.addEventListener||n&&"load"===n.type||"complete"===document.readyState)&&(t=!0,i(),e.call(this))},i=function(){document.addEventListener?(document.removeEventListener("DOMContentLoaded",n,!1),window.removeEventListener("load",n,!1)):(document.detachEvent("onreadystatechange",n),window.detachEvent("onload",n))};if("complete"===document.readyState)setTimeout(n);else if(document.addEventListener)document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1);else{document.attachEvent("onreadystatechange",n),window.attachEvent("onload",n);var r=!1;try{r=null==window.frameElement&&document.documentElement}catch(o){}r&&r.doScroll&&!function a(){if(!t){try{r.doScroll("left")}catch(n){return setTimeout(a,50)}i(),e.call(this)}}()}},getLinkContent:function(e){for(var t,n=0,i="";(t=e.childNodes[n])&&t;n++)1===t.nodeType&&("img"===t.nodeName.toLowerCase()&&(i+=(this.getAttribute(t,"alt")||"")+" "),i+=this.getLinkContent(t));return i},fData:function(e){return this.isStr(e)?e:this.toJSON(e)},getLT:function(e,t){if(!e)return"_";var n="";return t=t.toLowerCase(),n="input"===e.nodeName.toLowerCase()?this.getAttribute(e,"value"):"text"===t?r?e.textContent:e.innerText?e.innerText:e.textContent:"href"===t?this.rmProto(this.getAttribute(e,"href")):this.getAttribute(e,t)||"",n=this.norm(n),""===n&&(n=this.norm(this.getLinkContent(e))),n&&n.length>B.MAX_VALUE_LENGTH&&(n=n.substring(0,B.MAX_VALUE_LENGTH)),""===n?"_":n},clref:function(e){if(0!==e.indexOf(u)&&0!==e.indexOf(d))return"";var t=this.strip(e);return t.clean||t.url},cold:function(){return screen?screen.colorDepth||screen.pixelDepth:"unknown"},sr:function(e){return screen?screen.width+(e?e:",")+screen.height:""},xy:function(e){function t(){var e=document.documentElement,t=document.body;return e&&(e.scrollTop||e.scrollLeft)?[e.scrollTop,e.scrollLeft]:t?[t.scrollTop,t.scrollLeft]:[0,0]}var n=null,r=e.pageX,o=e.pageY;return i&&(n=t()),r||0===r||(r=e.clientX||0,i&&(r+=n[1])),o||0===o||(o=e.clientY||0,i&&(o+=n[0])),r+","+o},hasCC:function(e){for(var t=0,n=e.length;n>t;t++){var i=e.charCodeAt(t);if(32>i||"="===i)return!0}return!1},isValidPair:function(e,t){return e.length>8||t.length>B.MAX_VALUE_LENGTH?(f("Invalid key/value pair ("+e+"="+t+") Size must be < 8/300 respectively."),!1):!0},ser:function(e,t){if(!e)return"";void 0===typeof t&&(t=!0);var n=[],i="";for(var r in e)if(this.hasOwn(e,r)){var o=r,a=e[r];if(null===o||null===a)continue;if(o+="",a+="",a&&a.length>B.MAX_VALUE_LENGTH&&(a=a.substring(0,B.MAX_VALUE_LENGTH)),!this.isValidPair(o,a))continue;if(!this.hasCC(o)&&!this.hasCC(a)){i="",a=this.trim(a),""!==a&&" "!==a||!t||(a="_");try{i=this.enc(o+""+a),i=i.replace(/'/g,"%27")}catch(s){i="_ERR_ENCODE_",p(s)}n.push(i)}}return n.join(this.cd)},rand:function(){for(var e=0,t="",n="";e++<16;){var i=Math.floor(62*Math.random());n=10>i?i:String.fromCharCode(36>i?i+55:i+61),t+=n}return t},tms:function(){return+new Date},cookEn:function(){var e=navigator.cookieEnabled?1:0,t="rapidtc";return"undefined"!=typeof navigator.cookieEnabled||e||(document.cookie=t+"=1",e=-1!=document.cookie.indexOf("testcookie")?!0:!1,document.cookie=t+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"),e},isResCF:function(e){var t={14:1,15:1,18:1,19:1,20:1};return t[e]},isTagOfInterest:function(e,t){for(var n=0,i=t.length;i>n;n++)if(e.tagName&&e.tagName.toLowerCase()==t[n].toLowerCase())return!0;return!1},samplingSuccess:function(e){var t=function(e){for(var t=33554467,n=t,i=0,r=e.length;r>i;i++)n+=(n<<1)+(n<<4)+(n<<7)+(n<<8)+(n<<24),n^=e.charCodeAt(i);return 0>n&&(n&=2147483647,n+=2147483648),n},n=function(e){var n=1e3;e*=10;var i=new h,r=""+i.getCookieByName("B");return r?(0>v&&(v=t(r)%n),e>v):!1};return n(e)}}}("undefined"==typeof console||"undefined"==typeof console.log)&&(console={log:function(){}}),"undefined"==typeof console.error&&(console.error=console.log),"undefined"==typeof console.warn&&(console.warn=console.log),t.prototype={ser:function(){return B.ser(this.map)},set:function(e,t){var n=t?B.norm(t):t;(void 0===n||null===n)&&(n=""),null!==n&&B.isStr(n)&&(n=n.replace(/\\/g,"\\\\")),n.length>B.MAX_VALUE_LENGTH&&(n=n.substring(0,B.MAX_VALUE_LENGTH)),B.isValidPair(e,n)&&(this.map[B.norm(e)]=n,this.count++)},get:function(e){return this.map[e]},getAll:function(){return this.map},absorb:function(e){if(e&&B.isObj(e))for(var t in e)B.hasOwn(e,t)&&this.set(t,e[t])},absorb_filter:function(e,t){if(e&&B.isObj(e))for(var n in e)(!t||t.call(null,n))&&B.hasOwn(e,n)&&this.set(n,e[n])},getSize:function(){return this.count}},n.prototype=new t,n.prototype.constructor=t,r.prototype=new t,r.prototype.constructor=t,n.makeFromPP=function(e){var t=new n;return e&&t.absorb(e.getAll()),t};var F=new n,B=W(e),X=new E,G={none:0,gzip:1,lzw:2,deflate:3};h.prototype={getYWAFPC:function(){if(!$.ywa)return null;var e=this.cookieMap["fpc"+$.ywa.project_id],t=this.cookieMap.fpc,n=b(t),i=null;if(t&&(i=n[$.ywa.project_id]),e&&(B.clearCookie("fpc"+$.ywa.project_id),!i)){n[$.ywa.project_id]=e;var r=y(n);w("fpc",r,31536e4),i=e}return i?i:null},getCookieByName:function(e){return this.cookieMap[e]},getYWADPID:function(){if($.ywa){var e,t="ywandp",n="ywadp"+$.ywa.project_id,i=b(this.cookieMap[t]),r=i[$.ywa.project_id];if(void 0===r||null===r||""===r){e=this.cookieMap[n],e?i[$.ywa.project_id]=e:i[$.ywa.project_id]=_(),r=i[$.ywa.project_id];var o=y(i);w(t,o,31536e4),this.cookieMap[t]=o}$.ywa_dpid=r}},getRx:function(){if($.fpc){var e="rx",t=this.cookieMap[e];if(void 0===t||null===t||""===t){var n=new Date;t=Math.random().toString().substring(2)+"."+n.getTime(),w(e,t,63072e3)}return t}return null}};var $=l(e),K=k(),J=null,Z=null,Q=null,ee=null,te=new h;$.fpc&&F.set("_rx",te.getRx());var ne=te.getCookieByName("_ga");null!=ne&&F.set("_ga",ne);var ie=te.getCookieByName("yx");null!=ie&&F.set("_yx",ie);var re=(function(){var e={};return{subscribe:function(t,n){var i=e[t];i||(i=[],e[t]=i),i.push(n)},unsubscribe:function(t,n){var i=e[t];if(i)for(var r=0;r<i.length;r++)if(i[r]===n)return void i.splice(r,1)},fire:function(t){var n=e[t];if(n)for(var i=0,r=n.length;r>i;i++)n[i].call(null)}}}(),0);q();var oe={utils:B};return{init:function(){},beaconEvent:function(e,t,n,i){R(e,t,n,i)},beaconClick:function(e,t,n,i,r,o){$.ldbg&&m("beaconClick: sec="+e+" slk="+t+" callback="+o),!i&&r&&(i={}),r&&(i.outcm=r),K.sendClick(N(e,t,n,i,r),o)},addModules:function(e,t,n){$.ldbg&&m("addModules() called: mods="+B.fData(e)+" isPage: "+t),n=n||{};var i={A_am:1};n.pp&&B.aug(i,n.pp),n.useViewability=n.useViewability||!1,n.clickonly=n.clickonly||!1;var r=!1;switch(t||(t=n.useViewability?2:!1),t){case 1:case"1":case!0:t=!0;break;case 2:case"2":r=!0,t=!1,n.event=S("contentmodification","",{});break;case 0:case"0":case!1:default:t=!1}if(!$.yql_enabled)return void(t?M(i,!1):n.event&&this.beaconRichView(i,n.event.outcome));n&&n.event&&t&&(p("Cannot track event type and pageview at same time."),n.event=null);var o=X.addModules(e,n.useViewability);(0!==o.length||n.event)&&(n.clickonly&&(o=[]),($.USE_RAPID||n.event)&&(t||n.event||n.pp?(n.event&&n.event.data&&B.aug(i,n.event.data),K.sendRapidNoDelay(o,t,i,n)):o.length>0&&K.sendRapid(o,t,i,n)),t===!0&&($.ywa&&K.sendYWAPV(i),$.apv&&J&&J.reInit()))},addModulesWithViewability:function(e,t,n){n=n||{},n.useViewability=$.viewability,this.addModules(e,t,n)},refreshModule:function(e,t,n,i){$.ldbg&&m("refreshModule called: mod="+e+" isPV: "+t+" sendLinks: "+n+" options: "+B.fData(i));var r=!1;switch(i=i||{},t||(t=!1),t){case 1:case"1":case!0:t=!0;break;case 2:case"2":r=!0,t=!1,i.event=S("contentmodification","",{});break;case 0:case"0":case!1:default:t=!1}if(!$.yql_enabled){var o=i.pp||{};return void(t?M(o,!1):i.event&&this.beaconRichView(o,i.event.outcome))}var a=n===!1?!1:!0;t&&i&&i.event&&(i.event=null),X.refreshModule(e,t,a,i)},removeModule:function(e){X.removeModule(e)},isModuleTracked:function(e){return $.ldbg&&m("isTracked called: "+e),X&&void 0!==X.exists(e)},destroy:function(){m("destroy called"),X.destroy(),J&&(J.destroy(),J=null),Z&&(Z.destroy(),Z=null),Q&&(Q.destroy(),Q=null)},reInit:function(e){if($.ldbg&&m("reInit called with: "+B.fData(e)),e=e||{},!e.spaceid)return void p("Invalid spid in reInit config: "+B.fData(e));F=new n,$=l(e),B=W(e);var t=new h;$.fpc&&F.set("_rx",t.getRx());var i=t.getCookieByName("_ga");null!=i&&F.set("_ga",i);var r=t.getCookieByName("yx");null!=r&&F.set("_yx",r)},setRapidAttribute:function(e){if(e.keys&&$.keys.absorb(e.keys),e.ywa&&B.isObj(e.ywa))for(var t in e.ywa)B.hasOwn(e.ywa,t)&&($.ywa[t]=e.ywa[t]);e.spaceid&&($.spaceid=e.spaceid),e.referrer&&($.referrer=e.referrer.substring(0,B.MAX_VALUE_LENGTH)),e.A_sid&&($.keys.set("A_sid",e.A_sid),$.persist_asid=!0),e.location&&($.loc=e.location,$.keys.set("_w",B.rmProto(e.location).substring(0,B.MAX_VALUE_LENGTH))),B.hasOwn(e,"apv")&&(e.apv?J?J.reInit():J=new V:J&&(J.destroy(),J=null))},clearRapidAttribute:function(e){for(var t in e)if("keys"===e[t]){var i=$.keys.get("_w"),r=$.keys.get("A_sid");$.keys=new n,$.keys.set("_w",i),$.keys.set("A_sid",r)}else"referrer"===e[t]?$.referrer="":"A_sid"===e[t]?($.keys.set("A_sid",""),$.persist_asid=!0):"location"===e[t]&&($.loc="",$.keys.set("_w",""))},beaconPageview:function(e){M(e,!0)},beaconECommerce:function(e,t){$.ywa&&K.sendYWAECommerce(e,t)},beaconInternalSearch:function(e,t){$.ywa&&K.sendInternalSearch(e,t)},getCurrentSID:function(){return F.get("A_sid")},notifyHistoryPushStateCalled:function(){},beaconLinkViews:function(e,t,n,i){$.ldbg&&m("beaconLinkViews() called"),n=n||{};var o={};n.pp&&B.aug(o,n.pp);var a=!1,s=!1;switch(t){case 1:case"1":case!0:s=!0;break;case 2:case"2":a=!0,s=!1,n.event=S("contentmodification","",{});break;case 0:case"0":case!1:default:s=!1}if(!$.yql_enabled)return void(s?M(o,!1):n.event&&this.beaconRichView(o,n.event.outcome));if(n&&n.event&&s&&(p("Cannot track event type and pageview at same time."),n.event=null),0!==e.length||n.event){for(var l=[],c=0;c<e.length;c++){var u=e[c],d=new r;d.absorb_filter(u,function(e){return"sec"!=e&&"_links"!=e});for(var f=[],h=1,g=0;g<u._links.length;g++){var v=u._links[g],w={viewable:!0,data:{sec:u.sec,_p:h++,A_lv:2}};B.aug(w.data,v),f.push(w)}var _={moduleName:u.sec,moduleYLK:d,links:f,identifier:u.sec};l.push(_)}($.USE_RAPID||n.event)&&((s||n.event||n.pp)&&n.event&&n.event.data&&B.aug(o,n.event.data),K.sendRapidNoDelay(l,s,o,n)),i&&i.call()}},beaconPerformanceData:function(e){U(e)},__test_only__:function(){return oe}}},function(){if("performance"in window==0&&(window.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"now"in window.performance==0){var e=Date.now();performance.timing&&performance.timing.navigationStart&&(e=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-e}}}(),function(e){YAHOO.i13n.YWA_CF_MAP={pubUrl:8,reqUrl:10};var t=function(e){this.initialized=!0,this.images=[],this.awakeImages=[],this.asleepImages=[],this.viewportHeight=window.innerHeight||document.documentElement.clientHeight},n=new YAHOO.i13n.Rapid({spaceid:1197775438}),i=[],r=function(){if(!window.FlickrEmbedr||!window.FlickrEmbedr.initialized){var e=window.FlickrEmbedr?window.FlickrEmbedr.q:[];window.FlickrEmbedr=new t,window.FlickrEmbedr._parseGlobalDisplayOptions(),window.addEventListener("message",function(e){window.FlickrEmbedr.handlePostMessage(e)},!1),e&&e.length>0&&(e.indexOf("all")>-1?window.FlickrEmbedr.process("all"):e.indexOf("inline")>-1&&window.FlickrEmbedr.process("inline")),window.FlickrEmbedr._scanForChanges(),window.addEventListener("scroll",l(function(){window.FlickrEmbedr._handleScroll()},250)),window.addEventListener("resize",l(function(){window.FlickrEmbedr.viewportHeight=window.innerHeight||document.documentElement.clientHeight},250))}},o=function(e){n.beaconPerformanceData({perf_usertime:{utm:[{name:"EmbedrLoadTime",dur:performance.now()-e,st:e}]}})},a=function(e){try{e=parseInt((e+"").replace("px",""),10)}catch(t){}return e},s=function(e,t,n){var i=t;return(!t||a(i)<1)&&(i=a(e.width),a(i)<1&&(i=a(e.style.width),a(i)<1&&(i=a(getComputedStyle(e,null).getPropertyValue(n))))),i},l=function(e,t,n){var i;return function(){var r=this,o=arguments,a=function(){i=null,n||e.apply(r,o)},s=n&&!i;clearTimeout(i),i=setTimeout(a,t),s&&e.apply(r,o)}},c=function(e){var t=e.node.getBoundingClientRect(),n=2*window.FlickrEmbedr.viewportHeight;return t.top>=0-n&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)+n};getDevicePixelRatio=function(){var e=1;return void 0!==window.screen.systemXDPI&&void 0!==window.screen.logicalXDPI&&window.screen.systemXDPI>window.screen.logicalXDPI?e=window.screen.systemXDPI/window.screen.logicalXDPI:void 0!==window.devicePixelRatio&&(e=window.devicePixelRatio),e},getSizeToFit=function(e,t,n){function i(e){return e.source.indexOf(".jpg")>-1}var r,n={},o=parseInt(t.width,10),a=parseInt(t.height,10),s=getDevicePixelRatio(),l=o*s,c=a*s,u=e,d=n.excludeSizes||["o"],f=!1,p=!1,m={};return u.filter(i).forEach(function(e){var t,n=e.key||e.url.match(/\/sizes\/([a-z]+)\/$/)[1];e&&-1===d.indexOf(n)&&((e.width>=l||e.height>=c)&&(t=!0),t&&(f?e.height<f.height&&e.width<f.width&&(f=e):f=e),p?(e.width>p.width||e.height>p.height)&&(p=e):p=e),r=f||p}),m.width=o,m.height=r.height*(o/r.width),{displayUrl:r.source,fittedWidth:Math.round(m.width),fittedHeight:Math.round(m.height)}},getPhotoForDisplay=function(e){var t,n,i=e.contentDocument.querySelector(".flickr-embed-photo").getBoundingClientRect(),r=getPixelRatio(),o=this.get("photo").getSizeToFit(i,options);return t=Math.min(i.height/r,o.height),n=Math.min(i.width/r,o.width/o.height*t),t=Math.min(t,o.height/o.width*n),{width:Math.round(n),height:Math.round(t),url:o.url,pixelRatio:o.width/n}},displayOptions=["header","footer","comment-count","fave-count","branding","truncate","letterbox","context","lang","sharing","vr","gp"],supportedTypes=['a[href*="flickr.com"][data-flickr-embed="true"] img','img[src^="https://farm"][src*="flickr.com"][src$=".jpg"]','img[src^="https://farm"][src*="flickr.com"][src$=".jpg?zz=1"]','img[src^="http://farm"][src*="flickr.com"][src$=".jpg"]','img[src^="http://farm"][src*="flickr.com"][src$=".jpg?zz=1"]','img[src^="//farm"][src*="flickr.com"][src$=".jpg"]','img[src^="//farm"][src*="flickr.com"][src$=".jpg?zz=1"]','img[src^="https://c"][src*="flickr.com"][src$=".jpg"]','img[src^="https://c"][src*="flickr.com"][src$=".jpg?zz=1"]','img[src^="http://c"][src*="flickr.com"][src$=".jpg"]','img[src^="http://c"][src*="flickr.com"][src$=".jpg?zz=1"]','img[src^="//c"][src*="flickr.com"][src$=".jpg"]','img[src^="//c"][src*="flickr.com"][src$=".jpg?zz=1"]'],t.prototype.process=function(e){this.detectImages(e),this.processImages()},t.prototype.handlePostMessage=function(e){e.data&&e.data.name&&("update:height"===e.data.name?e.source.frameElement.style.height=e.data.height:"update:resize"===e.data.name?this.handleImageResize(e.source,e.data):"beacon:click"===e.data.name?n.beaconClick("embedr",e.data.text,0,{pubUrl:window.location.href,reqUrl:e.data.href}):"beacon:pageview"===e.data.name&&n.beaconPageview({pubUrl:window.location.href,reqUrl:e.data.photoUrl}))},t.prototype.handleImageResize=function(e,t){var n=getSizeToFit.call(this,t.size.sizes,t.size),i=e.document.querySelector('a[data-is-current-slide="true"] img'),r=e.document.querySelector("video"),o=e.document.querySelector(".flickr-embed-photo");r||(i||(i=e.document.querySelector("a.slide img")),i.style.width=parseInt(n.fittedWidth,10)+"px",i.style.height=parseInt(n.fittedHeight,10)+"px",o.style.width=n.fittedWidth+"px",o.style.height=n.fittedHeight+"px",e.frameElement.style.height=e.document.body.clientHeight,i.src!==n.displayUrl&&(i.src=n.displayUrl))},t.prototype.detectImages=function(e){var t;"inline"===e?t=Array.prototype.slice.call(document.querySelectorAll('[data-flickr-embed="true"] img')):"all"===e&&(t=Array.prototype.slice.call(document.querySelectorAll(supportedTypes)));for(var n=0,i=t.length;i>n;n++)-1===this.images.indexOf(t[n])&&(this.images.push(t[n]),t[n]={node:t[n],processed:!1},c(t[n])?this.awakeImages.push(t[n]):this.asleepImages.push(t[n]))},t.prototype.processImages=function(){function e(e){this.awakeImages[e]&&!this.awakeImages[e].processed&&(this.parseImage(this.awakeImages[e].node),this.awakeImages[e].processed=!0)}for(var t=0;t<this.awakeImages.length;t++)this.awakeImages[t].node&&this.awakeImages[t].node.naturalWidth>0&&this.awakeImages[t].node.naturalHeight>0?this.awakeImages[t]&&!this.awakeImages[t].processed&&(this.parseImage(this.awakeImages[t].node),this.awakeImages[t].processed=!0):this.awakeImages[t].node.addEventListener("load",e.bind(this,t),!1)},t.prototype.parseImage=function(e){if(e&&e.tagName&&"img"===e.tagName.toLowerCase()){i.push({img:e,start:performance.now()});var t,n,r,o,a,l,c,u,d=/(flickr.com|flic.kr)\/(photos|p)\/([0-9a-zA-Z-_]+|[0-9]+@N[0-9]+)\/([0-9]+)\/?(in)?\/?([^\/]+)?/,f=/(flickr.com|flic.kr)\/gp\/([0-9a-zA-Z-_]+|[0-9]+@N[0-9]+)\/([a-zA-Z0-9]+)\/?/,p=/(flickr.com|flic.kr)\/(photos|p)\/([0-9a-zA-Z-_]+|[0-9]+@N[0-9]+)\/(sets|albums)\/([0-9]+)\/?(in)?\/?([^\/]+)?/,m=/(flickr.com|flic.kr)\/(photos|p)\/([0-9a-zA-Z-_]+|[0-9]+@N[0-9]+)\/galleries\/([0-9]+)\/?/,h=/(\d+)_([a-zA-Z0-9]+)_?[a-z]?.jpg(\?zz=1)*$/,g=null;l=e.width,c=l/e.naturalWidth,a=parseInt(e.naturalHeight*c,10),e.width<=150||("a"===e.parentNode.nodeName.toLowerCase()&&""!==e.parentNode.href&&"#"!==e.parentNode.href?(n=e.parentNode.href.match(d),r=e.parentNode.href.match(p),galleryInfo=e.parentNode.href.match(m),gpInfo=e.parentNode.href.match(f),o=e.parentNode,a=s(e.parentNode,a,"height"),l=s(e.parentNode,l,"width"),u=e.src.match(h)[2],n?(t="/photos/"+n[3]+"/"+n[4],-1!==n.indexOf("in")&&(t=t+"/in/"+n[n.indexOf("in")+1],this.isSlideshow=!0)):gpInfo?(g=gpInfo[3],t="/photos/"+gpInfo[2]+"/"+e.src.match(h)[1]):r?t="/photosets/"+r[5]:galleryInfo&&(t="/galleries/"+galleryInfo[3]+"-"+galleryInfo[4])):(n=e.src.match(h),n&&(t="/photos/"+n[1],o=e,a=s(e,a,"height"),l=s(e,l,"width"),u=n[2])),e&&t&&this.replaceImg(e,t,o,{width:l,height:a},u,g))}},t.prototype.replaceImg=function(t,r,a,s,l,c){var u,d,f,p=t.className?" "+t.className:"",m=new XMLHttpRequest,h=window.getComputedStyle(t,null);"A"===a.tagName?f=a.getElementsByTagName("img")[0]:"IMG"===a.tagName&&(f=a),u=document.createElement("iframe"),u.setAttribute("frameborder","0"),u.setAttribute("allowfullscreen",""),u.className="flickr-embed-frame"+p,u.setAttribute("webkitallowfullscreen",""),u.setAttribute("mozallowfullscreen",""),u.setAttribute("oallowfullscreen",""),u.setAttribute("msallowfullscreen",""),t.getAttribute("align")&&u.setAttribute("align",t.getAttribute("align")),u.style.cssText=t.style.cssText,u.style.overflow="hidden",u.style.paddingTop=h.getPropertyValue("padding-top"),u.style.paddingRight=h.getPropertyValue("padding-right"),u.style.paddingBottom=h.getPropertyValue("padding-bottom"),u.style.paddingLeft=h.getPropertyValue("padding-left"),u.style.marginTop=h.getPropertyValue("margin-top"),u.style.marginRight=h.getPropertyValue("margin-right"),u.style.marginBottom=h.getPropertyValue("margin-bottom"),u.style.marginLeft=h.getPropertyValue("margin-left"),u.width=s.width,u.height=s.height,u.setAttribute("data-natural-width",t.naturalWidth),u.setAttribute("data-natural-height",t.naturalHeight),u.style.width=u.width+"px",u.style.height=u.height+"px",u.style.maxWidth=h.getPropertyValue("max-width"),u.style.display="none",d=this._parseDisplayOptions(a),m.onreadystatechange=function(){var e,t,s=function(){var l;u.setAttribute("data-loaded","true"),u.style.display="",u.style.height=u.contentDocument.querySelector("body").clientHeight+"px",l=i.filter(function(e){return e.img===f?(o(e.start),!0):void 0}),i.splice(i.indexOf(l[0]),1),n.beaconPageview({pubUrl:window.location.href,reqUrl:r}),null!==a.parentNode&&a.parentNode.removeChild(a),t?t.removeEventListener("loadstart",s):e.removeEventListener("load",s),u.contentWindow.document.close()};if(4===m.readyState){if(!a.parentNode||null===a.parentNode)return;if(a.parentNode.insertBefore(u,a),u.contentWindow.document.write(m.response),e=u.contentDocument.querySelector("img"),t=u.contentDocument.querySelector("video"),!e&&!t)return void u.parentNode.removeChild(u);t?t.addEventListener("loadstart",s):e.addEventListener("load",s)}};var g=["width="+u.width,"height="+u.height,"secret="+l];c&&g.push("gp="+c),console.log("BASE URL!",e),m.open("GET",e+r+"?"+g.join("&")+d,!0),m.setRequestHeader("X-Embedr-Referrer",window.location.href),m.send(null)},t.prototype._handleScroll=function(){for(var e=[],t=0,n=this.asleepImages.length;n>t;t++)c(this.asleepImages[t])?this.awakeImages.push(this.asleepImages[t]):e.push(this.asleepImages[t]);this.asleepImages=e,this.processImages()},t.prototype._scanForChanges=function(){var e,t={childList:!0,subtree:!0};"undefined"==typeof MutationObserver?this.scanForChanges=window.setInterval(function(){window.FlickrEmbedr.process("inline")},1e3):(e=new MutationObserver(function(e){for(var t=0,n=e.length;n>t;t++)if(e[t].addedNodes.length&&e[t].addedNodes[0].querySelector&&null!==e[t].addedNodes[0].querySelector('[data-flickr-embed="true"] img'))return void window.FlickrEmbedr.process("inline")}),e.observe(document.body,t))},t.prototype._parseGlobalDisplayOptions=function(){if(!this.globalDisplayOptions){this.globalDisplayOptions={};for(var e="flickr:embedr:",t=document.querySelectorAll('meta[name^="'+e+'"]'),n=0,i=t.length;i>n;n++)this.globalDisplayOptions[t[n].getAttribute("name").replace(e,"")]=t[n].getAttribute("content")}},t.prototype._parseDisplayOptions=function(e){for(var t,n=[],i=JSON.parse(JSON.stringify(this.globalDisplayOptions)),r=0;r<displayOptions.length;r++)t=e.getAttribute("data-"+displayOptions[r]),null!==t&&(i[displayOptions[r]]=t);for(var o in i)i.hasOwnProperty(o)&&n.push(encodeURIComponent(o)+"="+encodeURIComponent(i[o]));return"&"+n.join("&")},document.onreadystatechange=function(){"complete"===document.readyState&&r()},"complete"===document.readyState&&r()}(window.FlickrEmbedr.baseURL);